import{j as e}from"./services-DItWsVaP.js";import{r as s}from"./vendor-Cc7wcGMw.js";import{u as a,D as t,G as r}from"./ui-B_cSuroK.js";const l=({title:l,columns:c,fetchData:d,searchData:n,pageSize:o=10})=>{const[i,x]=s.useState([]),[h,m]=s.useState(!1),[p,u]=s.useState(0),[g,b]=s.useState(0),[y,j]=s.useState(0),[f,N]=s.useState(""),[v,w]=s.useState("createdAt"),[S,k]=s.useState("desc"),C=async(e=0,s="")=>{m(!0);try{const a=s?await n(s,e,o):await d(e,o,v,S);x(a.content||[]),b(a.totalPages||0),j(a.totalElements||0),u(e)}catch(a){}finally{m(!1)}};s.useEffect(()=>{C(0,f)},[v,S]);const D=e=>{C(e,f)},M=s.useMemo(()=>({start:p*o+1,end:Math.min((p+1)*o,y)}),[p,o,y]);return e.jsxs("div",{className:"bg-white rounded-sm shadow",children:[e.jsx("div",{className:"p-3 border-b",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsx("h2",{className:"text-md font-semibold text-gray-900",children:l}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search...",value:f,onChange:e=>N(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-500"})]}),e.jsx("button",{onClick:()=>C(0,f),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Search"}),f&&e.jsx("button",{onClick:()=>{N(""),C(0,"")},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Clear"})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:c.map(s=>e.jsx("th",{onClick:()=>s.sortable&&(e=>{v===e?k("asc"===S?"desc":"asc"):(w(e),k("asc"))})(s.key),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider "+(s.sortable?"cursor-pointer hover:bg-gray-100":""),children:e.jsxs("div",{className:"flex items-center gap-1",children:[s.label,s.sortable&&v===s.key&&e.jsx("span",{className:"text-purple-600",children:"asc"===S?"↑":"↓"})]})},s.key))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:c.length,className:"px-6 py-12 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-6 h-6 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"})})})}):0===i.length?e.jsx("tr",{children:e.jsx("td",{colSpan:c.length,className:"px-6 py-12 text-center text-gray-500",children:"No data found"})}):i.map((s,a)=>e.jsx("tr",{className:"hover:bg-gray-50",children:c.map(a=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.render?a.render(s[a.key],s):s[a.key]},a.key))},s.id||a))})]})}),g>1&&e.jsxs("div",{className:"px-6 py-4 border-t flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",M.start," to ",M.end," of ",y," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>D(p-1),disabled:0===p,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(t,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,g)},(s,a)=>{const t=p<3?a:p-2+a;return t>=g?null:e.jsx("button",{onClick:()=>D(t),className:"px-3 py-1 rounded-lg "+(t===p?"bg-purple-600 text-white":"border border-gray-300 hover:bg-gray-50"),children:t+1},t)})}),e.jsx("button",{onClick:()=>D(p+1),disabled:p>=g-1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(r,{className:"w-4 h-4"})})]})]})]})};export{l as default};
