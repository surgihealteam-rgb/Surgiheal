import{j as e}from"./services-DItWsVaP.js";import{r as t,g as s,e as r,c as i}from"./vendor-Cc7wcGMw.js";import{_ as n}from"./index-BafacGGg.js";import{e as o,f as a,X as l,h as c,p as u,P as h,a as d,n as p,H as m,k as f,q as g,S as y,C as v,r as w,s as b,i as x,A as j,t as _,g as S,E as k,b as T,U as E,u as P,v as C,d as O,w as N,x as A,y as R,z as I,Q as D,D as $,G as L,J as M}from"./ui-B_cSuroK.js";import{v as V}from"./security-CWldsiS0.js";import"./security-COJDRNUs.js";const B=({label:t,color:s="#7808d0",onClick:r,icon:i})=>e.jsxs("button",{className:"button",style:{"--clr":s},onClick:()=>{r&&r()},children:[e.jsxs("span",{className:"button__icon-wrapper",children:[e.jsx("span",{className:"button__icon-svg",children:i}),e.jsx("span",{className:"button__icon-svg button__icon-svg--copy",children:i})]}),t]}),U=({end:t,suffix:s,label:r,duration:i=2e3,delay:n=0})=>{const[o,a]=F(t,i,n);return e.jsxs("div",{className:"text-center",ref:a,children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.jsxs("h2",{children:[e.jsx("span",{className:"text-2xl  font-sans font-bold",children:o.toLocaleString()}),e.jsx("span",{className:"text-2xl font-serif font-bold ",children:s})]})}),e.jsx("div",{className:"text-sm text-gray-600",children:r})]})},F=(e,s=2e3,r=0)=>{const[i,n]=t.useState(0),[o,a]=t.useState(!1),l=t.useRef();return t.useEffect(()=>{const e=new IntersectionObserver(([e])=>{e.isIntersecting&&!o&&a(!0)},{threshold:.3});return l.current&&e.observe(l.current),()=>{l.current&&e.unobserve(l.current)}},[o]),t.useEffect(()=>{if(!o)return;const t=setTimeout(()=>{let t=0;const r=e/(s/16),i=setInterval(()=>{t+=r,t>=e?(n(e),clearInterval(i)):n(Math.floor(t))},16);return()=>clearInterval(i)},r);return()=>clearTimeout(t)},[e,s,r,o]),[i,l]},W=({message:s,type:r,isVisible:i,onClose:n,duration:c=5e3})=>{if(t.useEffect(()=>{if(i){const e=setTimeout(()=>{n()},c);return()=>clearTimeout(e)}},[i,c,n]),!i)return null;return e.jsxs("div",{className:(()=>{const e="fixed top-20 right-4 z-50 flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg transform transition-all duration-300 ease-in-out max-w-sm";return"success"===r?`${e} bg-green-500 text-white`:`${e} bg-red-500 text-white`})(),children:["success"===r?e.jsx(o,{className:"w-5 h-5 flex-shrink-0"}):e.jsx(a,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm font-medium flex-1",children:s}),e.jsx("button",{onClick:n,className:"text-white hover:text-gray-200 transition-colors",children:e.jsx(l,{className:"w-4 h-4"})})]})};var q=function(e,t){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])})(e,t)};function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function s(){this.constructor=e}q(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}var K=function(){return K=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++)for(var i in t=arguments[s])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},K.apply(this,arguments)};function z(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(s[r[i]]=e[r[i]])}return s}function G(e,t,s,r){var i,n=arguments.length,o=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(n<3?i(o):n>3?i(t,s,o):i(t,s))||o);return n>3&&o&&Object.defineProperty(t,s,o),o}function J(e,t){return function(s,r){t(s,r,e)}}function Y(e,t,s,r,i,n){function o(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?r.static?e:e.prototype:null,h=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d=!1,p=s.length-1;p>=0;p--){var m={};for(var f in r)m[f]="access"===f?{}:r[f];for(var f in r.access)m.access[f]=r.access[f];m.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");n.push(o(e||null))};var g=(0,s[p])("accessor"===l?{get:h.get,set:h.set}:h[c],m);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=o(g.get))&&(h.get=a),(a=o(g.set))&&(h.set=a),(a=o(g.init))&&i.unshift(a)}else(a=o(g))&&("field"===l?i.unshift(a):h[c]=a)}u&&Object.defineProperty(u,r.name,h),d=!0}function X(e,t,s){for(var r=arguments.length>2,i=0;i<t.length;i++)s=r?t[i].call(e,s):t[i].call(e);return r?s:void 0}function Z(e){return"symbol"==typeof e?e:"".concat(e)}function Q(e,t,s){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:s?"".concat(s," ",t):t})}function ee(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function te(e,t,s,r){return new(s||(s=Promise))(function(i,n){function o(e){try{l(r.next(e))}catch(t){n(t)}}function a(e){try{l(r.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})}function se(e,t){var s,r,i,n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(n=0)),n;)try{if(s=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,r=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(!(i=n.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){n=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(6===a[0]&&n.label<i[1]){n.label=i[1],i=a;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(a);break}i[2]&&n.ops.pop(),n.trys.pop();continue}a=t.call(e,n)}catch(l){a=[6,l],r=0}finally{s=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}var re=Object.create?function(e,t,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(t,s);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,i)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]};function ie(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||re(t,e,s)}function ne(e){var t="function"==typeof Symbol&&Symbol.iterator,s=t&&e[t],r=0;if(s)return s.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function oe(e,t){var s="function"==typeof Symbol&&e[Symbol.iterator];if(!s)return e;var r,i,n=s.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(i)throw i.error}}return o}function ae(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(oe(arguments[t]));return e}function le(){for(var e=0,t=0,s=arguments.length;t<s;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<s;t++)for(var n=arguments[t],o=0,a=n.length;o<a;o++,i++)r[i]=n[o];return r}function ce(e,t,s){if(s||2===arguments.length)for(var r,i=0,n=t.length;i<n;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function ue(e){return this instanceof ue?(this.v=e,this):new ue(e)}function he(e,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=s.apply(e,t||[]),n=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),r[Symbol.asyncIterator]=function(){return this},r;function o(e,t){i[e]&&(r[e]=function(t){return new Promise(function(s,r){n.push([e,t,s,r])>1||a(e,t)})},t&&(r[e]=t(r[e])))}function a(e,t){try{(s=i[e](t)).value instanceof ue?Promise.resolve(s.value.v).then(l,c):u(n[0][2],s)}catch(r){u(n[0][3],r)}var s}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),n.shift(),n.length&&a(n[0][0],n[0][1])}}function de(e){var t,s;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(s=!s)?{value:ue(e[r](t)),done:!1}:i?i(t):t}:i}}function pe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,s=e[Symbol.asyncIterator];return s?s.call(e):(e=ne(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=e[s]&&function(t){return new Promise(function(r,i){(function(e,t,s,r){Promise.resolve(r).then(function(t){e({value:t,done:s})},t)})(r,i,(t=e[s](t)).done,t.value)})}}}function me(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var fe=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},ge=function(e){return(ge=Object.getOwnPropertyNames||function(e){var t=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[t.length]=s);return t})(e)};function ye(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s=ge(e),r=0;r<s.length;r++)"default"!==s[r]&&re(t,e,s[r]);return fe(t,e),t}function ve(e){return e&&e.__esModule?e:{default:e}}function we(e,t,s,r){if("a"===s&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?r:"a"===s?r.call(e):r?r.value:t.get(e)}function be(e,t,s,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,s):i?i.value=s:t.set(e,s),s}function xe(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function je(e,t,s){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,i;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],s&&(i=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:s})}else s&&e.stack.push({async:!0});return t}var _e="function"==typeof SuppressedError?SuppressedError:function(e,t,s){var r=new Error(s);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function Se(e){function t(t){e.error=e.hasError?new _e(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var s,r=0;return function i(){for(;s=e.stack.pop();)try{if(!s.async&&1===r)return r=0,e.stack.push(s),Promise.resolve().then(i);if(s.dispose){var n=s.dispose.call(s.value);if(s.async)return r|=2,Promise.resolve(n).then(i,function(e){return t(e),i()})}else r|=1}catch(o){t(o)}if(1===r)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function ke(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,s,r,i,n){return s?t?".jsx":".js":!r||i&&n?r+i+"."+n.toLowerCase()+"js":e}):e}const Te={__extends:H,__assign:K,__rest:z,__decorate:G,__param:J,__esDecorate:Y,__runInitializers:X,__propKey:Z,__setFunctionName:Q,__metadata:ee,__awaiter:te,__generator:se,__createBinding:re,__exportStar:ie,__values:ne,__read:oe,__spread:ae,__spreadArrays:le,__spreadArray:ce,__await:ue,__asyncGenerator:he,__asyncDelegator:de,__asyncValues:pe,__makeTemplateObject:me,__importStar:ye,__importDefault:ve,__classPrivateFieldGet:we,__classPrivateFieldSet:be,__classPrivateFieldIn:xe,__addDisposableResource:je,__disposeResources:Se,__rewriteRelativeImportExtension:ke},Ee=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:je,get __assign(){return K},__asyncDelegator:de,__asyncGenerator:he,__asyncValues:pe,__await:ue,__awaiter:te,__classPrivateFieldGet:we,__classPrivateFieldIn:xe,__classPrivateFieldSet:be,__createBinding:re,__decorate:G,__disposeResources:Se,__esDecorate:Y,__exportStar:ie,__extends:H,__generator:se,__importDefault:ve,__importStar:ye,__makeTemplateObject:me,__metadata:ee,__param:J,__propKey:Z,__read:oe,__rest:z,__rewriteRelativeImportExtension:ke,__runInitializers:X,__setFunctionName:Q,__spread:ae,__spreadArray:ce,__spreadArrays:le,__values:ne,default:Te},Symbol.toStringTag,{value:"Module"}));class Pe extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class Ce extends Pe{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Oe extends Pe{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ne extends Pe{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ae,Re;(Re=Ae||(Ae={})).Any="any",Re.ApNortheast1="ap-northeast-1",Re.ApNortheast2="ap-northeast-2",Re.ApSouth1="ap-south-1",Re.ApSoutheast1="ap-southeast-1",Re.ApSoutheast2="ap-southeast-2",Re.CaCentral1="ca-central-1",Re.EuCentral1="eu-central-1",Re.EuWest1="eu-west-1",Re.EuWest2="eu-west-2",Re.EuWest3="eu-west-3",Re.SaEast1="sa-east-1",Re.UsEast1="us-east-1",Re.UsWest1="us-west-1",Re.UsWest2="us-west-2";class Ie{constructor(e,{headers:t={},customFetch:s,region:r=Ae.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>n(async()=>{const{default:e}=await Promise.resolve().then(()=>Ge);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)})(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return te(this,arguments,void 0,function*(e,t={}){var s;try{const{headers:r,method:i,body:n,signal:o}=t;let a={},{region:l}=t;l||(l=this.region);const c=new URL(`${this.url}/${e}`);let u;l&&"any"!==l&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l)),n&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)?"undefined"!=typeof Blob&&n instanceof Blob||n instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=n):"string"==typeof n?(a["Content-Type"]="text/plain",u=n):"undefined"!=typeof FormData&&n instanceof FormData?u=n:(a["Content-Type"]="application/json",u=JSON.stringify(n)):u=n;const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:u,signal:o}).catch(e=>{if("AbortError"===e.name)throw e;throw new Ce(e)}),d=h.headers.get("x-relay-error");if(d&&"true"===d)throw new Oe(h);if(!h.ok)throw new Ne(h);let p,m=(null!==(s=h.headers.get("Content-Type"))&&void 0!==s?s:"text/plain").split(";")[0].trim();return p="application/json"===m?yield h.json():"application/octet-stream"===m||"application/pdf"===m?yield h.blob():"text/event-stream"===m?h:"multipart/form-data"===m?yield h.formData():yield h.text(),{data:p,error:null,response:h}}catch(r){return r instanceof Error&&"AbortError"===r.name?{data:null,error:new Ce(r)}:{data:null,error:r,response:r instanceof Ne||r instanceof Oe?r.context:void 0}}})}}var De={};const $e=s(Ee);var Le={},Me={},Ve={},Be={},Ue={},Fe=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const We=Fe.fetch,qe=Fe.fetch.bind(Fe),He=Fe.Headers,Ke=Fe.Request,ze=Fe.Response,Ge=Object.freeze(Object.defineProperty({__proto__:null,Headers:He,Request:Ke,Response:ze,default:qe,fetch:We},Symbol.toStringTag,{value:"Module"})),Je=s(Ge);var Ye,Xe,Ze,Qe,et,tt,st,rt={};function it(){if(Ye)return rt;Ye=1,Object.defineProperty(rt,"__esModule",{value:!0});class e extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return rt.default=e,rt}function nt(){if(Xe)return Ue;Xe=1,Object.defineProperty(Ue,"__esModule",{value:!0});const e=$e,t=e.__importDefault(Je),s=e.__importDefault(it());return Ue.default=class{constructor(e){var s,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(s=e.shouldThrowOnError)&&void 0!==s&&s,this.signal=e.signal,this.isMaybeSingle=null!==(r=e.isMaybeSingle)&&void 0!==r&&r,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,i,n;let o=null,a=null,l=null,c=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const s=await e.text();""===s||(a="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?s:JSON.parse(s))}const s=null===(r=this.headers.get("Prefer"))||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),n=null===(i=e.headers.get("content-range"))||void 0===i?void 0:i.split("/");s&&n&&n.length>1&&(l=parseInt(n[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,u="Not Acceptable"):a=1===a.length?a[0]:null)}else{const t=await e.text();try{o=JSON.parse(t),Array.isArray(o)&&404===e.status&&(a=[],o=null,c=200,u="OK")}catch(h){404===e.status&&""===t?(c=204,u="No Content"):o={message:t}}if(o&&this.isMaybeSingle&&(null===(n=null==o?void 0:o.details)||void 0===n?void 0:n.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&this.shouldThrowOnError)throw new s.default(o)}return{error:o,data:a,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,s,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(s=null==e?void 0:e.stack)&&void 0!==s?s:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},Ue}function ot(){if(Ze)return Be;Ze=1,Object.defineProperty(Be,"__esModule",{value:!0});const e=$e.__importDefault(nt());class t extends e.default{select(e){let t=!1;const s=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:r,referencedTable:i=r}={}){const n=i?`${i}.order`:"order",o=this.url.searchParams.get(n);return this.url.searchParams.set(n,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${void 0===s?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const r=void 0===s?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:r=s}={}){const i=void 0===r?"offset":`${r}.offset`,n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(n,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:r=!1,wal:i=!1,format:n="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,s?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.get("Accept"))&&void 0!==o?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${n}; for="${l}"; options=${a};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}}return Be.default=t,Be}function at(){if(Qe)return Ve;Qe=1,Object.defineProperty(Ve,"__esModule",{value:!0});const e=$e.__importDefault(ot());class t extends e.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const s=Array.from(new Set(t)).map(e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:r}={}){let i="";"plain"===r?i="pl":"phrase"===r?i="ph":"websearch"===r&&(i="w");const n=void 0===s?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${n}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}}return Ve.default=t,Ve}function lt(){if(et)return Me;et=1,Object.defineProperty(Me,"__esModule",{value:!0});const e=$e.__importDefault(at());return Me.default=class{constructor(e,{headers:t={},schema:s,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=s,this.fetch=r}select(t,s){const{head:r=!1,count:i}=null!=s?s:{},n=r?"HEAD":"GET";let o=!1;const a=(null!=t?t:"*").split("").map(e=>/\s/.test(e)&&!o?"":('"'===e&&(o=!o),e)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:s,defaultToNull:r=!0}={}){var i;if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const e=t.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(e.length>0){const t=[...new Set(e)].map(e=>`"${e}"`);this.url.searchParams.set("columns",t.join(","))}}return new e.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}upsert(t,{onConflict:s,ignoreDuplicates:r=!1,count:i,defaultToNull:n=!0}={}){var o;if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==s&&this.url.searchParams.set("on_conflict",s),i&&this.headers.append("Prefer",`count=${i}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const e=t.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(e.length>0){const t=[...new Set(e)].map(e=>`"${e}"`);this.url.searchParams.set("columns",t.join(","))}}return new e.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(o=this.fetch)&&void 0!==o?o:fetch})}update(t,{count:s}={}){var r;return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete({count:t}={}){var s;return t&&this.headers.append("Prefer",`count=${t}`),new e.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}},Me}const ct=r(function(){if(st)return De;st=1,Object.defineProperty(De,"__esModule",{value:!0}),De.PostgrestError=De.PostgrestBuilder=De.PostgrestTransformBuilder=De.PostgrestFilterBuilder=De.PostgrestQueryBuilder=De.PostgrestClient=void 0;const e=$e,t=e.__importDefault(function(){if(tt)return Le;tt=1,Object.defineProperty(Le,"__esModule",{value:!0});const e=$e,t=e.__importDefault(lt()),s=e.__importDefault(at());class r{constructor(e,{headers:t={},schema:s,fetch:r}={}){this.url=e,this.headers=new Headers(t),this.schemaName=s,this.fetch=r}from(e){const s=new URL(`${this.url}/${e}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new r(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:n}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;r||i?(a=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{l.searchParams.append(e,t)})):(a="POST",c=t);const u=new Headers(this.headers);return n&&u.set("Prefer",`count=${n}`),new s.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:null!==(o=this.fetch)&&void 0!==o?o:fetch})}}return Le.default=r,Le}());De.PostgrestClient=t.default;const s=e.__importDefault(lt());De.PostgrestQueryBuilder=s.default;const r=e.__importDefault(at());De.PostgrestFilterBuilder=r.default;const i=e.__importDefault(ot());De.PostgrestTransformBuilder=i.default;const n=e.__importDefault(nt());De.PostgrestBuilder=n.default;const o=e.__importDefault(it());return De.PostgrestError=o.default,De.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:n.default,PostgrestError:o.default},De}()),{PostgrestClient:ut,PostgrestQueryBuilder:ht,PostgrestFilterBuilder:dt,PostgrestTransformBuilder:pt,PostgrestBuilder:mt,PostgrestError:ft}=ct;class gt{static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!=typeof process){const e=process.versions;if(e&&e.node){const t=e.node,s=parseInt(t.replace(/^v/,"").split(".")[0]);return s>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}const yt=1e4;var vt,wt,bt,xt,jt,_t,St,kt,Tt,Et,Pt;(wt=vt||(vt={}))[wt.connecting=0]="connecting",wt[wt.open=1]="open",wt[wt.closing=2]="closing",wt[wt.closed=3]="closed",(xt=bt||(bt={})).closed="closed",xt.errored="errored",xt.joined="joined",xt.joining="joining",xt.leaving="leaving",(_t=jt||(jt={})).close="phx_close",_t.error="phx_error",_t.join="phx_join",_t.reply="phx_reply",_t.leave="phx_leave",_t.access_token="access_token",(St||(St={})).websocket="websocket",(Tt=kt||(kt={})).Connecting="connecting",Tt.Open="open",Tt.Closing="closing",Tt.Closed="closed";class Ct{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const r=t.getUint8(1),i=t.getUint8(2);let n=this.HEADER_LENGTH+2;const o=s.decode(e.slice(n,n+r));n+=r;const a=s.decode(e.slice(n,n+i));n+=i;return{ref:null,topic:o,event:a,payload:JSON.parse(s.decode(e.slice(n,e.byteLength)))}}}class Ot{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(Pt=Et||(Et={})).abstime="abstime",Pt.bool="bool",Pt.date="date",Pt.daterange="daterange",Pt.float4="float4",Pt.float8="float8",Pt.int2="int2",Pt.int4="int4",Pt.int4range="int4range",Pt.int8="int8",Pt.int8range="int8range",Pt.json="json",Pt.jsonb="jsonb",Pt.money="money",Pt.numeric="numeric",Pt.oid="oid",Pt.reltime="reltime",Pt.text="text",Pt.time="time",Pt.timestamp="timestamp",Pt.timestamptz="timestamptz",Pt.timetz="timetz",Pt.tsrange="tsrange",Pt.tstzrange="tstzrange";const Nt=(e,t,s={})=>{var r;const i=null!==(r=s.skipTypes)&&void 0!==r?r:[];return t?Object.keys(t).reduce((s,r)=>(s[r]=At(r,e,t,i),s),{}):{}},At=(e,t,s,r)=>{const i=t.find(t=>t.name===e),n=null==i?void 0:i.type,o=s[e];return n&&!r.includes(n)?Rt(n,o):It(o)},Rt=(e,t)=>{if("_"===e.charAt(0)){const s=e.slice(1,e.length);return Mt(t,s)}switch(e){case Et.bool:return Dt(t);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return $t(t);case Et.json:case Et.jsonb:return Lt(t);case Et.timestamp:return Vt(t);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:default:return It(t)}},It=e=>e,Dt=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},$t=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Lt=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},Mt=(e,t)=>{if("string"!=typeof e)return e;const s=e.length-1,r=e[s];if("{"===e[0]&&"}"===r){let r;const n=e.slice(1,s);try{r=JSON.parse("["+n+"]")}catch(i){r=n?n.split(","):[]}return r.map(e=>Rt(t,e))}return e},Vt=e=>"string"==typeof e?e.replace(" ","T"):e,Bt=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ut{constructor(e,t,s={},r=1e4){this.channel=e,this.event=t,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t(null===(s=this.receivedResp)||void 0===s?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ft,Wt,qt,Ht,Kt,zt,Gt,Jt;(Wt=Ft||(Ft={})).SYNC="sync",Wt.JOIN="join",Wt.LEAVE="leave";class Yt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},e=>{const{onJoin:t,onLeave:s,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yt.syncState(this.state,e,t,s),this.pendingDiffs.forEach(e=>{this.state=Yt.syncDiff(this.state,e,t,s)}),this.pendingDiffs=[],r()}),this.channel._on(s.diff,{},e=>{const{onJoin:t,onLeave:s,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Yt.syncDiff(this.state,e,t,s),r())}),this.onJoin((e,t,s)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:s})}),this.onLeave((e,t,s)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,r){const i=this.cloneDeep(e),n=this.transformState(t),o={},a={};return this.map(i,(e,t)=>{n[e]||(a[e]=t)}),this.map(n,(e,t)=>{const s=i[e];if(s){const r=t.map(e=>e.presence_ref),i=s.map(e=>e.presence_ref),n=t.filter(e=>i.indexOf(e.presence_ref)<0),l=s.filter(e=>r.indexOf(e.presence_ref)<0);n.length>0&&(o[e]=n),l.length>0&&(a[e]=l)}else o[e]=t}),this.syncDiff(i,{joins:o,leaves:a},s,r)}static syncDiff(e,t,s,r){const{joins:i,leaves:n}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(t,r)=>{var i;const n=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(r),n.length>0){const s=e[t].map(e=>e.presence_ref),r=n.filter(e=>s.indexOf(e.presence_ref)<0);e[t].unshift(...r)}s(t,n,r)}),this.map(n,(t,s)=>{let i=e[t];if(!i)return;const n=s.map(e=>e.presence_ref);i=i.filter(e=>n.indexOf(e.presence_ref)<0),e[t]=i,r(t,i,s),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const r=e[s];return t[s]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(Ht=qt||(qt={})).ALL="*",Ht.INSERT="INSERT",Ht.UPDATE="UPDATE",Ht.DELETE="DELETE",(zt=Kt||(Kt={})).BROADCAST="broadcast",zt.PRESENCE="presence",zt.POSTGRES_CHANGES="postgres_changes",zt.SYSTEM="system",(Jt=Gt||(Gt={})).SUBSCRIBED="SUBSCRIBED",Jt.TIMED_OUT="TIMED_OUT",Jt.CLOSED="CLOSED",Jt.CHANNEL_ERROR="CHANNEL_ERROR";class Xt{constructor(e,t={config:{}},s){var r,i;if(this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Ut(this,jt.join,this.params,this.timeout),this.rejoinTimer=new Ot(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bt.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jt.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Yt(this),this.broadcastEndpointURL=Bt(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(i=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===i?void 0:i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var s,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==bt.closed){const{config:{broadcast:n,presence:o,private:a}}=this.params,l=null!==(r=null===(s=this.bindings.postgres_changes)||void 0===s?void 0:s.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[Kt.PRESENCE]&&this.bindings[Kt.PRESENCE].length>0||!0===(null===(i=this.params.config.presence)||void 0===i?void 0:i.enabled),u={},h={broadcast:n,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(Gt.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(Gt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var s;if(this.socket.setAuth(),void 0!==t){const r=this.bindings.postgres_changes,i=null!==(s=null==r?void 0:r.length)&&void 0!==s?s:0,n=[];for(let s=0;s<i;s++){const i=r[s],{filter:{event:o,schema:a,table:l,filter:c}}=i,u=t&&t[s];if(!u||u.event!==o||u.schema!==a||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=bt.errored,void(null==e||e(Gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));n.push(Object.assign(Object.assign({},i),{id:u.id}))}return this.bindings.postgres_changes=n,void(e&&e(Gt.SUBSCRIBED))}null==e||e(Gt.SUBSCRIBED)}).receive("error",t=>{this.state=bt.errored,null==e||e(Gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(Gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===bt.joined&&e===Kt.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,s)}async httpSend(e,t,s={}){var r;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(null==t)return Promise.reject("Payload is required for httpSend()");const n={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,n,null!==(r=s.timeout)&&void 0!==r?r:this.timeout);if(202===o.status)return{success:!0};let a=o.statusText;try{const e=await o.json();a=e.error||e.message||a}catch(l){}return Promise.reject(new Error(a))}async send(e,t={}){var s,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(s=>{var r,i,n;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(n=null===(i=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===i?void 0:i.broadcast)||void 0===n?void 0:n.ack)||s("ok"),o.receive("ok",()=>s("ok")),o.receive("error",()=>s("error")),o.receive("timeout",()=>s("timed out"))});{const{event:n,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(s=t.timeout)&&void 0!==s?s:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(i){return"AbortError"===i.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=bt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new Ut(this,jt.leave,{},e),s.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{null==s||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bt.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),n=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),n}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Ut(this,e,t,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var r,i;const n=e.toLocaleLowerCase(),{close:o,error:a,leave:l,join:c}=jt;if(s&&[o,a,l,c].indexOf(n)>=0&&s!==this._joinRef())return;let u=this._onMessage(n,t,s);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(n)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,s,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(s=e.filter)||void 0===s?void 0:s.event)||void 0===r?void 0:r.toLocaleLowerCase())===n}).map(e=>e.callback(u,s)):null===(i=this.bindings[n])||void 0===i||i.filter(e=>{var s,r,i,o,a,l;if(["broadcast","presence","postgres_changes"].includes(n)){if("id"in e){const n=e.id,o=null===(s=e.filter)||void 0===s?void 0:s.event;return n&&(null===(r=t.ids)||void 0===r?void 0:r.includes(n))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{const s=null===(a=null===(o=null==e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===s||s===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===n}).map(e=>{if("object"==typeof u&&"ids"in u){const e=u.data,{schema:t,table:s,commit_timestamp:r,type:i,errors:n}=e,o={schema:t,table:s,commit_timestamp:r,eventType:i,new:{},old:{},errors:n};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,s)})}_isClosed(){return this.state===bt.closed}_isJoined(){return this.state===bt.joined}_isJoining(){return this.state===bt.joining}_isLeaving(){return this.state===bt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===s&&Xt.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(jt.close,{},e)}_onError(e){this._on(jt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Nt(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Nt(e.columns,e.old_record)),t}}const Zt=()=>{},Qt=25e3,es=10,ts=100,ss=[1e3,2e3,5e3,1e4];class rs{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yt,this.transport=null,this.heartbeatIntervalMs=Qt,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zt,this.ref=0,this.reconnectTimer=null,this.logger=Zt,this.conn=null,this.sendBuffer=[],this.serializer=new Ct,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>n(async()=>{const{default:e}=await Promise.resolve().then(()=>Ge);return{default:e}},void 0).then(({default:t})=>t(...e)).catch(e=>{throw new Error(`Failed to load @supabase/node-fetch: ${e.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...e)=>t(...e)},!(null===(s=null==t?void 0:t.params)||void 0===s?void 0:s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${St.websocket}`,this.httpEndpoint=Bt(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gt.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case vt.connecting:return kt.Connecting;case vt.open:return kt.Open;case vt.closing:return kt.Closing;default:return kt.Closed}}isConnected(){return this.connectionState()===kt.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const s=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===s);if(r)return r;{const s=new Xt(`realtime:${e}`,t,this);return this.channels.push(s),s}}push(e){const{topic:t,event:s,payload:r,ref:i}=e,n=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${s} (${i})`,r),this.isConnected()?n():this.sendBuffer.push(n)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},ts)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(a){this.log("error","error in heartbeat callback",a)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:s,payload:r,ref:i}=e,n=i?`(${i})`:"",o=r.status||"";this.log("receive",`${o} ${t} ${s} ${n}`.trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(s,r,i)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(jt.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const s=e.match(/\?/)?"&":"?";return`${e}${s}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;t=e||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const s={access_token:t,version:"realtime-js/2.76.1"};t&&e.updateJoinPayload(s),e.joinedOnce&&e._isJoined()&&e._push(jt.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Ot(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},es)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,r,i,n,o,a,l,c;if(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(s=null==e?void 0:e.timeout)&&void 0!==s?s:yt,this.heartbeatIntervalMs=null!==(r=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:Qt,this.worker=null!==(i=null==e?void 0:e.worker)&&void 0!==i&&i,this.accessToken=null!==(n=null==e?void 0:e.accessToken)&&void 0!==n?n:null,this.heartbeatCallback=null!==(o=null==e?void 0:e.heartbeatCallback)&&void 0!==o?o:Zt,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(a=null==e?void 0:e.reconnectAfterMs)&&void 0!==a?a:e=>ss[e-1]||1e4,this.encode=null!==(l=null==e?void 0:e.encode)&&void 0!==l?l:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(c=null==e?void 0:e.decode)&&void 0!==c?c:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}class is extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ns(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class os extends is{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class as extends is{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const ls=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>n(async()=>{const{default:e}=await Promise.resolve().then(()=>Ge);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},cs=e=>{if(Array.isArray(e))return e.map(e=>cs(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,s])=>{const r=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[r]=cs(s)}),t},us=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hs=(e,t,s)=>te(void 0,void 0,void 0,function*(){const r=yield te(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield n(()=>Promise.resolve().then(()=>Ge),void 0)).Response:Response});e instanceof r&&!(null==s?void 0:s.noResolveJson)?e.json().then(s=>{const r=e.status||500,i=(null==s?void 0:s.statusCode)||r+"";t(new os(us(s),r,i))}).catch(e=>{t(new as(us(e),e))}):t(new as(us(e),e))}),ds=(e,t,s,r)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(i.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,(null==t?void 0:t.duplex)&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),s)):i};function ps(e,t,s,r,i,n){return te(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,ds(t,r,i,n)).then(e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>hs(e,a,r))})})}function ms(e,t,s,r){return te(this,void 0,void 0,function*(){return ps(e,"GET",t,s,r)})}function fs(e,t,s,r,i){return te(this,void 0,void 0,function*(){return ps(e,"POST",t,r,i,s)})}function gs(e,t,s,r,i){return te(this,void 0,void 0,function*(){return ps(e,"PUT",t,r,i,s)})}function ys(e,t,s,r,i){return te(this,void 0,void 0,function*(){return ps(e,"DELETE",t,r,i,s)})}class vs{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return te(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ns(e))return{data:null,error:e};throw e}})}}var ws;class bs{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[ws]="BlobDownloadBuilder",this.promise=null}asStream(){return new vs(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return te(this,void 0,void 0,function*(){try{const e=yield this.downloadFn();return{data:yield e.blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ns(e))return{data:null,error:e};throw e}})}}ws=Symbol.toStringTag;const xs={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},js={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _s{constructor(e,t={},s,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=ls(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,s,r){return te(this,void 0,void 0,function*(){try{let i;const n=Object.assign(Object.assign({},js),r);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(n.upsert)});const a=n.metadata;"undefined"!=typeof Blob&&s instanceof Blob?(i=new FormData,i.append("cacheControl",n.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",s)):"undefined"!=typeof FormData&&s instanceof FormData?(i=s,i.append("cacheControl",n.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=s,o["cache-control"]=`max-age=${n.cacheControl}`,o["content-type"]=n.contentType,a&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null==r?void 0:r.headers)&&(o=Object.assign(Object.assign({},o),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?gs:fs)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:o},(null==n?void 0:n.duplex)?{duplex:n.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ns(i))return{data:null,error:i};throw i}})}upload(e,t,s){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,r){return te(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),n=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${n}`);o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:js.upsert},r),n=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&s instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",s)):"undefined"!=typeof FormData&&s instanceof FormData?(e=s,e.append("cacheControl",t.cacheControl)):(e=s,n["cache-control"]=`max-age=${t.cacheControl}`,n["content-type"]=t.contentType);return{data:{path:i,fullPath:(yield gs(this.fetch,o.toString(),e,{headers:n})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ns(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,t){return te(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(r["x-upsert"]="true");const i=yield fs(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),n=new URL(this.url+i.url),o=n.searchParams.get("token");if(!o)throw new is("No token returned by API");return{data:{signedUrl:n.toString(),path:e,token:o},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ns(s))return{data:null,error:s};throw s}})}update(e,t,s){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return te(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==s?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ns(r))return{data:null,error:r};throw r}})}copy(e,t,s){return te(this,void 0,void 0,function*(){try{return{data:{path:(yield fs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==s?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ns(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,s){return te(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield fs(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==s?void 0:s.transform)?{transform:s.transform}:{}),{headers:this.headers});const n=(null==s?void 0:s.download)?`&download=${!0===s.download?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${n}`)},{data:i,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ns(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,s){return te(this,void 0,void 0,function*(){try{const r=yield fs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=(null==s?void 0:s.download)?`&download=${!0===s.download?"":s.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ns(r))return{data:null,error:r};throw r}})}download(e,t){const s=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),i=r?`?${r}`:"",n=this._getFinalPath(e);return new bs(()=>ms(this.fetch,`${this.url}/${s}/${n}${i}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return te(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield ms(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:cs(e),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ns(s))return{data:null,error:s};throw s}})}exists(e){return te(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,s,r){return te(this,void 0,void 0,function*(){return ps(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ns(s)&&s instanceof as){const e=s.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),r=[],i=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&r.push(i);const n=void 0!==(null==t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&r.push(o);let a=r.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${n}/public/${s}${a}`)}}}remove(e){return te(this,void 0,void 0,function*(){try{return{data:yield ys(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ns(t))return{data:null,error:t};throw t}})}list(e,t,s){return te(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},xs),t),{prefix:e||""});return{data:yield fs(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ns(r))return{data:null,error:r};throw r}})}listV2(e,t){return te(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield fs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},t),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ns(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Ss="2.76.1",ks={"X-Client-Info":`storage-js/${Ss}`};class Ts{constructor(e,t={},s,r){this.shouldThrowOnError=!1;const i=new URL(e);if(null==r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."))}this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ks),t),this.fetch=ls(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return te(this,void 0,void 0,function*(){try{return{data:yield ms(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ns(e))return{data:null,error:e};throw e}})}getBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield ms(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ns(t))return{data:null,error:t};throw t}})}createBucket(e){return te(this,arguments,void 0,function*(e,t={public:!1}){try{return{data:yield fs(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ns(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return te(this,void 0,void 0,function*(){try{return{data:yield gs(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ns(s))return{data:null,error:s};throw s}})}emptyBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ns(t))return{data:null,error:t};throw t}})}deleteBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield ys(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ns(t))return{data:null,error:t};throw t}})}}class Es{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ks),t),this.fetch=ls(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ns(t))return{data:null,error:t};throw t}})}listBuckets(e){return te(this,void 0,void 0,function*(){try{const t=new URLSearchParams;void 0!==(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),void 0!==(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString()),(null==e?void 0:e.sortColumn)&&t.set("sortColumn",e.sortColumn),(null==e?void 0:e.sortOrder)&&t.set("sortOrder",e.sortOrder),(null==e?void 0:e.search)&&t.set("search",e.search);const s=t.toString(),r=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`,i=yield ms(this.fetch,r,{headers:this.headers});return{data:Array.isArray(i)?i.filter(e=>"ANALYTICS"===e.type):[],error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ns(t))return{data:null,error:t};throw t}})}deleteBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield ys(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ns(t))return{data:null,error:t};throw t}})}}const Ps={"X-Client-Info":`storage-js/${Ss}`,"Content-Type":"application/json"};class Cs extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Os(e){return"object"==typeof e&&null!==e&&"__isStorageVectorsError"in e}class Ns extends Cs{constructor(e,t,s){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class As extends Cs{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var Rs,Is;(Is=Rs||(Rs={})).InternalError="InternalError",Is.S3VectorConflictException="S3VectorConflictException",Is.S3VectorNotFoundException="S3VectorNotFoundException",Is.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",Is.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",Is.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded";const Ds=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>n(async()=>{const{default:e}=await Promise.resolve().then(()=>Ge);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},$s=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ls=(e,t,s,r)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return r?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(i.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),s)):i};function Ms(e,t,s,r,i,n){return te(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,Ls(t,r,i,n)).then(e=>{if(!e.ok)throw e;if(null==r?void 0:r.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>o(e)).catch(e=>((e,t,s)=>te(void 0,void 0,void 0,function*(){if(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status&&!(null==s?void 0:s.noResolveJson)){const s=e.status||500,r=e;if("function"==typeof r.json)r.json().then(e=>{const r=(null==e?void 0:e.statusCode)||(null==e?void 0:e.code)||s+"";t(new Ns($s(e),s,r))}).catch(()=>{const e=s+"",i=r.statusText||`HTTP ${s} error`;t(new Ns(i,s,e))});else{const e=s+"",i=r.statusText||`HTTP ${s} error`;t(new Ns(i,s,e))}}else t(new As($s(e),e))}))(e,a,r))})})}function Vs(e,t,s,r,i){return te(this,void 0,void 0,function*(){return Ms(e,"POST",t,r,i,s)})}class Bs{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ps),t),this.fetch=Ds(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return te(this,void 0,void 0,function*(){try{return{data:(yield Vs(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Os(t))return{data:null,error:t};throw t}})}getIndex(e,t){return te(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Os(s))return{data:null,error:s};throw s}})}listIndexes(e){return te(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Os(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return te(this,void 0,void 0,function*(){try{return{data:(yield Vs(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Os(s))return{data:null,error:s};throw s}})}}class Us{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ps),t),this.fetch=Ds(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return te(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Vs(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Os(t))return{data:null,error:t};throw t}})}getVectors(e){return te(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Os(t))return{data:null,error:t};throw t}})}listVectors(e){return te(this,void 0,void 0,function*(){try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and "+(e.segmentCount-1))}return{data:yield Vs(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Os(t))return{data:null,error:t};throw t}})}queryVectors(e){return te(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Os(t))return{data:null,error:t};throw t}})}deleteVectors(e){return te(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Vs(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Os(t))return{data:null,error:t};throw t}})}}class Fs{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ps),t),this.fetch=Ds(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return te(this,void 0,void 0,function*(){try{return{data:(yield Vs(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Os(t))return{data:null,error:t};throw t}})}getBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Os(t))return{data:null,error:t};throw t}})}listBuckets(){return te(this,arguments,void 0,function*(e={}){try{return{data:yield Vs(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Os(t))return{data:null,error:t};throw t}})}deleteBucket(e){return te(this,void 0,void 0,function*(){try{return{data:(yield Vs(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Os(t))return{data:null,error:t};throw t}})}}class Ws extends Fs{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new qs(this.url,this.headers,e,this.fetch)}}class qs extends Bs{constructor(e,t,s,r){super(e,t,r),this.vectorBucketName=s}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return te(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return te(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return te(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return te(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Hs(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Hs extends Us{constructor(e,t,s,r,i){super(e,t,i),this.vectorBucketName=s,this.indexName=r}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return te(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return te(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return te(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return te(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return te(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Ks extends Ts{constructor(e,t={},s,r){super(e,t,s,r)}from(e){return new _s(this.url,this.headers,e,this.fetch)}get vectors(){return new Ws(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Es(this.url+"/iceberg",this.headers,this.fetch)}}let zs="";zs="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Gs={headers:{"X-Client-Info":`supabase-js-${zs}/2.76.1`}},Js={schema:"public"},Ys={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xs={},Zs=(e,t,s)=>{const r=(e=>{let t;return t=e||("undefined"==typeof fetch?qe:fetch),(...e)=>t(...e)})(s),i="undefined"==typeof Headers?He:Headers;return async(s,n)=>{var o;const a=null!==(o=await t())&&void 0!==o?o:e;let l=new i(null==n?void 0:n.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),r(s,Object.assign(Object.assign({},n),{headers:l}))}};const Qs="2.76.1",er=3e4,tr=9e4,sr={"X-Client-Info":`gotrue-js/${Qs}`},rr="X-Supabase-Api-Version",ir={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},nr=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class or extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function ar(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class lr extends or{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}class cr extends or{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ur extends or{constructor(e,t,s,r){super(e,s,r),this.name=t,this.status=s}}class hr extends ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class dr extends ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pr extends ur{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class mr extends ur{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fr extends ur{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gr extends ur{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function yr(e){return ar(e)&&"AuthRetryableFetchError"===e.name}class vr extends ur{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class wr extends ur{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const br="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xr=" \t\n\r=".split(""),jr=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<xr.length;t+=1)e[xr[t].charCodeAt(0)]=-2;for(let t=0;t<br.length;t+=1)e[br[t].charCodeAt(0)]=t;return e})();function _r(e,t,s){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;s(br[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;s(br[e]),t.queuedBits-=6}}function Sr(e,t,s){const r=jr[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function kr(e){const t=[],s=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},n=e=>{!function(e,t,s){if(0===t.utf8seq){if(e<=127)return void s(e);for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&s(t.codepoint)}}(e,r,s)};for(let o=0;o<e.length;o+=1)Sr(e.charCodeAt(o),i,n);return t.join("")}function Tr(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function Er(e){const t=[],s={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let i=0;i<e.length;i+=1)Sr(e.charCodeAt(i),s,r);return new Uint8Array(t)}function Pr(e){const t=[];return function(e,t){for(let s=0;s<e.length;s+=1){let r=e.charCodeAt(s);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(s+1)-56320&65535|t),s+=1}Tr(r,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function Cr(e){const t=[],s={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>_r(e,s,r)),_r(null,s,r),t.join("")}const Or=()=>"undefined"!=typeof window&&"undefined"!=typeof document,Nr={tested:!1,writable:!1},Ar=()=>{if(!Or())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(Nr.tested)return Nr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Nr.tested=!0,Nr.writable=!0}catch(t){Nr.tested=!0,Nr.writable=!1}return Nr.writable};const Rr=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>n(async()=>{const{default:e}=await Promise.resolve().then(()=>Ge);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},Ir=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Dr=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch(r){return s}},$r=async(e,t)=>{await e.removeItem(t)};class Lr{constructor(){this.promise=new Lr.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Mr(e){const t=e.split(".");if(3!==t.length)throw new wr("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!nr.test(t[s]))throw new wr("JWT not in base64url format");return{header:JSON.parse(kr(t[0])),payload:JSON.parse(kr(t[1])),signature:Er(t[2]),raw:{header:t[0],payload:t[1]}}}function Vr(e){return("0"+e.toString(16)).substr(-2)}async function Br(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),s=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(s);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ur(e,t,s=!1){const r=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let s="";for(let r=0;r<56;r++)s+=e.charAt(Math.floor(Math.random()*t));return s}return crypto.getRandomValues(e),Array.from(e,Vr).join("")}();let i=r;s&&(i+="/PASSWORD_RECOVERY"),await Ir(e,`${t}-code-verifier`,i);const n=await Br(r);return[n,r===n?"plain":"s256"]}Lr.promiseConstructor=Promise;const Fr=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Wr=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qr(e){if(!Wr.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hr(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kr(e){return JSON.parse(JSON.stringify(e))}const zr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gr=[502,503,504];async function Jr(e){var t,s;if(!("object"==typeof(s=e)&&null!==s&&"status"in s&&"ok"in s&&"json"in s&&"function"==typeof s.json))throw new gr(zr(e),0);if(Gr.includes(e.status))throw new gr(zr(e),e.status);let r,i;try{r=await e.json()}catch(o){throw new cr(zr(o),o)}const n=function(e){const t=e.headers.get(rr);if(!t)return null;if(!t.match(Fr))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(o){return null}}(e);if(n&&n.getTime()>=ir.timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?i=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(i=r.error_code),i){if("weak_password"===i)throw new vr(zr(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===i)throw new hr}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new vr(zr(r),e.status,r.weak_password.reasons);throw new lr(zr(r),e.status||500,i)}async function Yr(e,t,s,r){var i;const n=Object.assign({},null==r?void 0:r.headers);n[rr]||(n[rr]=ir.name),(null==r?void 0:r.jwt)&&(n.Authorization=`Bearer ${r.jwt}`);const o=null!==(i=null==r?void 0:r.query)&&void 0!==i?i:{};(null==r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,s,r,i,n){const o=((e,t,s,r)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),s))})(t,r,i,n);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw new gr(zr(l),0)}a.ok||await Jr(a);if(null==r?void 0:r.noResolveJson)return a;try{return await a.json()}catch(l){await Jr(l)}}(e,t,s+a,{headers:n,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Xr(e){var t;let s=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:s,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Zr(e){const t=Xr(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Qr(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ei(e){return{data:e,error:null}}function ti(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:i,verification_type:n}=e,o=z(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:s,hashed_token:r,redirect_to:i,verification_type:n},user:Object.assign({},o)},error:null}}function si(e){return e}const ri=["global","local","others"];class ii{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=Rr(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=ri[0]){if(ri.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ri.join(", ")}`);try{return await Yr(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ar(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await Yr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Qr})}catch(s){if(ar(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=z(e,["options"]),r=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(r.new_email=null==s?void 0:s.newEmail,delete r.newEmail),await Yr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:ti,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(ar(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Yr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qr})}catch(t){if(ar(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,r,i,n,o,a;try{const l={nextPage:null,lastPage:0,total:0},c=await Yr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(s=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==s?s:"",per_page:null!==(i=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:si});if(c.error)throw c.error;const u=await c.json(),h=null!==(n=c.headers.get("x-total-count"))&&void 0!==n?n:0,d=null!==(a=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==a?a:[];return d.length>0&&(d.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),s=JSON.parse(e.split(";")[1].split("=")[1]);l[`${s}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(ar(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){qr(e);try{return await Yr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qr})}catch(t){if(ar(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){qr(e);try{return await Yr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Qr})}catch(s){if(ar(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){qr(e);try{return await Yr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Qr})}catch(s){if(ar(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){qr(e.userId);try{const{data:t,error:s}=await Yr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:s}}catch(t){if(ar(t))return{data:null,error:t};throw t}}async _deleteFactor(e){qr(e.userId),qr(e.id);try{return{data:await Yr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ar(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,s,r,i,n,o,a;try{const l={nextPage:null,lastPage:0,total:0},c=await Yr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(s=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==s?s:"",per_page:null!==(i=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:si});if(c.error)throw c.error;const u=await c.json(),h=null!==(n=c.headers.get("x-total-count"))&&void 0!==n?n:0,d=null!==(a=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==a?a:[];return d.length>0&&(d.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),s=JSON.parse(e.split(";")[1].split("=")[1]);l[`${s}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(ar(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await Yr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(ar(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Yr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(ar(t))return{data:null,error:t};throw t}}async _deleteOAuthClient(e){try{return await Yr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(ar(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Yr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(ar(t))return{data:null,error:t};throw t}}}function ni(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}const oi=!!(globalThis&&Ar()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class ai extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class li extends ai{}async function ci(e,t,s){const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort()},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw new li(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(oi)try{await globalThis.navigator.locks.query()}catch(i){}return await s()}try{return await s()}finally{}}))}function ui(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function hi(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class di extends Error{constructor({message:e,code:t,cause:s,name:r}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=null!==(i=null!=r?r:s instanceof Error?s.name:void 0)&&void 0!==i?i:"Unknown Error",this.code=t}}class pi extends di{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function mi({error:e,options:t}){var s,r,i;const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new di({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if(!0===(null===(s=n.authenticatorSelection)||void 0===s?void 0:s.requireResidentKey))return new di({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===t.mediation&&"required"===(null===(r=n.authenticatorSelection)||void 0===r?void 0:r.userVerification))return new di({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if("required"===(null===(i=n.authenticatorSelection)||void 0===i?void 0:i.userVerification))return new di({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if("InvalidStateError"===e.name)return new di({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if("NotAllowedError"===e.name)return new di({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("NotSupportedError"===e.name){return 0===n.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new di({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new di({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e})}if("SecurityError"===e.name){const t=window.location.hostname;if(!xi(t))return new di({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(n.rp.id!==t)return new di({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new di({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new di({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new di({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function fi({error:e,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new di({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if("NotAllowedError"===e.name)return new di({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("SecurityError"===e.name){const t=window.location.hostname;if(!xi(t))return new di({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(s.rpId!==t)return new di({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new di({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new di({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}const gi=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function yi(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:s,excludeCredentials:r}=e,i=z(e,["challenge","user","excludeCredentials"]),n=Er(t).buffer,o=Object.assign(Object.assign({},s),{id:Er(s.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:n,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];a.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:Er(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return a}function vi(e){if(!e)throw new Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:s}=e,r=z(e,["challenge","allowCredentials"]),i=Er(t).buffer,n=Object.assign(Object.assign({},r),{challenge:i});if(s&&s.length>0){n.allowCredentials=new Array(s.length);for(let e=0;e<s.length;e++){const t=s[e];n.allowCredentials[e]=Object.assign(Object.assign({},t),{id:Er(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return n}function wi(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const s=e;return{id:e.id,rawId:e.id,response:{attestationObject:Cr(new Uint8Array(e.response.attestationObject)),clientDataJSON:Cr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=s.authenticatorAttachment)&&void 0!==t?t:void 0}}function bi(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const s=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Cr(new Uint8Array(i.authenticatorData)),clientDataJSON:Cr(new Uint8Array(i.clientDataJSON)),signature:Cr(new Uint8Array(i.signature)),userHandle:i.userHandle?Cr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=s.authenticatorAttachment)&&void 0!==t?t:void 0}}function xi(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ji(){var e,t;return!!(Or()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const _i={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Si={userVerification:"preferred",hints:["security-key"]};function ki(...e){const t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),s=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(const i of e)if(i)for(const e in i){const n=i[e];if(void 0!==n)if(Array.isArray(n))r[e]=n;else if(s(n))r[e]=n;else if(t(n)){const s=r[e];t(s)?r[e]=ki(s,n):r[e]=ki(n)}else r[e]=n}return r}class Ti{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:s,signal:r},i){try{const{data:n,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!n)return{data:null,error:o};const a=null!=r?r:gi.createNewAbortSignal();if("create"===n.webauthn.type){const{user:e}=n.webauthn.credential_options.publicKey;e.name||(e.name=`${e.id}:${s}`),e.displayName||(e.displayName=e.name)}switch(n.webauthn.type){case"create":{const t=function(e,t){return ki(_i,e,t||{})}(n.webauthn.credential_options.publicKey,null==i?void 0:i.create),{data:s,error:r}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new pi("Browser returned unexpected credential type",t)}:{data:null,error:new pi("Empty credential response",t)}}catch(t){return{data:null,error:mi({error:t,options:e})}}}({publicKey:t,signal:a});return s?{data:{factorId:e,challengeId:n.id,webauthn:{type:n.webauthn.type,credential_response:s}},error:null}:{data:null,error:r}}case"request":{const t=function(e,t){return ki(Si,e,t||{})}(n.webauthn.credential_options.publicKey,null==i?void 0:i.request),{data:s,error:r}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new pi("Browser returned unexpected credential type",t)}:{data:null,error:new pi("Empty credential response",t)}}catch(t){return{data:null,error:fi({error:t,options:e})}}}(Object.assign(Object.assign({},n.webauthn.credential_options),{publicKey:t,signal:a}));return s?{data:{factorId:e,challengeId:n.id,webauthn:{type:n.webauthn.type,credential_response:s}},error:null}:{data:null,error:r}}}}catch(n){return ar(n)?{data:null,error:n}:{data:null,error:new cr("Unexpected error in challenge",n)}}}async _verify({challengeId:e,factorId:t,webauthn:s}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:s=("undefined"!=typeof window?[window.location.origin]:void 0),signal:r}},i){if(!t)return{data:null,error:new or("rpId is required for WebAuthn authentication")};try{if(!ji())return{data:null,error:new cr("Browser does not support WebAuthn",null)};const{data:n,error:o}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:s},signal:r},{request:i});if(!n)return{data:null,error:o};const{webauthn:a}=n;return this._verify({factorId:e,challengeId:n.challengeId,webauthn:{type:a.type,rpId:t,rpOrigins:s,credential_response:a.credential_response}})}catch(n){return ar(n)?{data:null,error:n}:{data:null,error:new cr("Unexpected error in authenticate",n)}}}async _register({friendlyName:e,rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:s=("undefined"!=typeof window?[window.location.origin]:void 0),signal:r},i){if(!t)return{data:null,error:new or("rpId is required for WebAuthn registration")};try{if(!ji())return{data:null,error:new cr("Browser does not support WebAuthn",null)};const{data:n,error:o}=await this._enroll({friendlyName:e});if(!n)return await this.client.mfa.listFactors().then(t=>{var s;return null===(s=t.data)||void 0===s?void 0:s.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:o};const{data:a,error:l}=await this._challenge({factorId:n.id,friendlyName:n.friendly_name,webauthn:{rpId:t,rpOrigins:s},signal:r},{create:i});return a?this._verify({factorId:n.id,challengeId:a.challengeId,webauthn:{rpId:t,rpOrigins:s,type:a.webauthn.type,credential_response:a.webauthn.credential_response}}):{data:null,error:l}}catch(n){return ar(n)?{data:null,error:n}:{data:null,error:new cr("Unexpected error in register",n)}}}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const Ei={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sr,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pi(e,t,s){return await s()}const Ci={};class Oi{get jwks(){var e,t;return null!==(t=null===(e=Ci[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Ci[this.storageKey]=Object.assign(Object.assign({},Ci[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Ci[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ci[this.storageKey]=Object.assign(Object.assign({},Ci[this.storageKey]),{cachedAt:e})}constructor(e){var t,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Oi.nextInstanceID,Oi.nextInstanceID+=1,this.instanceID>0&&Or();const r=Object.assign(Object.assign({},Ei),e);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new ii({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Rr(r.fetch),this.lock=r.lock||Pi,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Or()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=ci:this.lock=Pi,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ti(this)},this.persistSession?(r.storage?this.storage=r.storage:Ar()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ni(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=ni(this.memoryStorage)),Or()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){}null===(s=this.broadcastChannel)||void 0===s||s.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qs}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},s=new URL(e);if(s.hash&&"#"===s.hash[0])try{new URLSearchParams(s.hash.substring(1)).forEach((e,s)=>{t[s]=e})}catch(r){}return s.searchParams.forEach((e,s)=>{t[s]=e}),t}(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),Or()&&this.detectSessionInUrl&&"none"!==s){const{data:r,error:i}=await this._getSessionFromURL(t,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),function(e){return ar(e)&&"AuthImplicitGrantRedirectError"===e.name}(i)){const t=null===(e=i.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return await this._removeSession(),{error:i}}const{session:n,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",n,"redirect type",o),await this._saveSession(n),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ar(t)?{error:t}:{error:new cr("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,r;try{const i=await Yr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(s=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==s?s:{},gotrue_meta_security:{captcha_token:null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Xr}),{data:n,error:o}=i;if(o||!n)return{data:{user:null,session:null},error:o};const a=n.session,l=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(i){if(ar(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,s,r;try{let i;if("email"in e){const{email:s,password:r,options:n}=e;let o=null,a=null;"pkce"===this.flowType&&([o,a]=await Ur(this.storage,this.storageKey)),i=await Yr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==n?void 0:n.emailRedirectTo,body:{email:s,password:r,data:null!==(t=null==n?void 0:n.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:o,code_challenge_method:a},xform:Xr})}else{if(!("phone"in e))throw new pr("You must provide either an email or phone number and a password");{const{phone:t,password:n,options:o}=e;i=await Yr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:n,data:null!==(s=null==o?void 0:o.data)&&void 0!==s?s:{},channel:null!==(r=null==o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:Xr})}}const{data:n,error:o}=i;if(o||!n)return{data:{user:null,session:null},error:o};const a=n.session,l=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(i){if(ar(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:r,options:i}=e;t=await Yr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:Zr})}else{if(!("phone"in e))throw new pr("You must provide either an email or phone number and a password");{const{phone:s,password:r,options:i}=e;t=await Yr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:Zr})}}const{data:s,error:r}=t;return r?{data:{user:null,session:null},error:r}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r}):{data:{user:null,session:null},error:new dr}}catch(t){if(ar(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(s=e.options)||void 0===s?void 0:s.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,s,r,i,n,o,a,l,c,u,h;let d,p;if("message"in e)d=e.message,p=e.signature;else{const{chain:u,wallet:h,statement:m,options:f}=e;let g;if(Or())if("object"==typeof h)g=h;else{const e=window;if(!("ethereum"in e)||"object"!=typeof e.ethereum||!("request"in e.ethereum)||"function"!=typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!=typeof h||!(null==f?void 0:f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=h}const y=new URL(null!==(t=null==f?void 0:f.url)&&void 0!==t?t:window.location.href),v=await g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!v||0===v.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const w=ui(v[0]);let b=null===(s=null==f?void 0:f.signInWithEthereum)||void 0===s?void 0:s.chainId;if(!b){const e=await g.request({method:"eth_chainId"});b=parseInt(e,16)}d=function(e){var t;const{chainId:s,domain:r,expirationTime:i,issuedAt:n=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:d}=e;if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==d)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);const p=`${u?`${u}://${r}`:r} wants you to sign in with your Ethereum account:\n${ui(e.address)}\n\n${e.statement?`${e.statement}\n`:""}`;let m=`URI: ${h}\nVersion: ${d}\nChain ID: ${s}${o?`\nNonce: ${o}`:""}\nIssued At: ${n.toISOString()}`;if(i&&(m+=`\nExpiration Time: ${i.toISOString()}`),a&&(m+=`\nNot Before: ${a.toISOString()}`),l&&(m+=`\nRequest ID: ${l}`),c){let e="\nResources:";for(const t of c){if(!t||"string"!=typeof t)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`\n- ${t}`}m+=e}return`${p}\n${m}`}({domain:y.host,address:w,statement:m,uri:y.href,version:"1",chainId:b,nonce:null===(r=null==f?void 0:f.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(n=null===(i=null==f?void 0:f.signInWithEthereum)||void 0===i?void 0:i.issuedAt)&&void 0!==n?n:new Date,expirationTime:null===(o=null==f?void 0:f.signInWithEthereum)||void 0===o?void 0:o.expirationTime,notBefore:null===(a=null==f?void 0:f.signInWithEthereum)||void 0===a?void 0:a.notBefore,requestId:null===(l=null==f?void 0:f.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null==f?void 0:f.signInWithEthereum)||void 0===c?void 0:c.resources}),p=await g.request({method:"personal_sign",params:[hi(d),w]})}try{const{data:t,error:s}=await Yr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:d,signature:p},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Xr});if(s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:s}):{data:{user:null,session:null},error:new dr}}catch(m){if(ar(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(e){var t,s,r,i,n,o,a,l,c,u,h,d;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:h,wallet:d,statement:f,options:g}=e;let y;if(Or())if("object"==typeof d)y=d;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!=typeof d||!(null==g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=d}const v=new URL(null!==(t=null==g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),m=t.signature}else{if(!("signMessage"in y&&"function"==typeof y.signMessage&&"publicKey"in y&&"object"==typeof y&&y.publicKey&&"toBase58"in y.publicKey&&"function"==typeof y.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${v.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${null!==(r=null===(s=null==g?void 0:g.signInWithSolana)||void 0===s?void 0:s.issuedAt)&&void 0!==r?r:(new Date).toISOString()}`,...(null===(i=null==g?void 0:g.signInWithSolana)||void 0===i?void 0:i.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(n=null==g?void 0:g.signInWithSolana)||void 0===n?void 0:n.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(o=null==g?void 0:g.signInWithSolana)||void 0===o?void 0:o.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(a=null==g?void 0:g.signInWithSolana)||void 0===a?void 0:a.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(l=null==g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(u=null===(c=null==g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(p),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=e}}try{const{data:t,error:s}=await Yr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Cr(m)},(null===(h=e.options)||void 0===h?void 0:h.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:Xr});if(s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:s}):{data:{user:null,session:null},error:new dr}}catch(f){if(ar(f))return{data:{user:null,session:null},error:f};throw f}}async _exchangeCodeForSession(e){const t=await Dr(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(null!=t?t:"").split("/");try{const{data:t,error:i}=await Yr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Xr});if(await $r(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=r?r:null}),error:i}):{data:{user:null,session:null,redirectType:null},error:new dr}}catch(i){if(ar(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:s,token:r,access_token:i,nonce:n}=e,o=await Yr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:n,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:Xr}),{data:a,error:l}=o;return l?{data:{user:null,session:null},error:l}:a&&a.session&&a.user?(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:l}):{data:{user:null,session:null},error:new dr}}catch(t){if(ar(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,r,i,n;try{if("email"in e){const{email:r,options:i}=e;let n=null,o=null;"pkce"===this.flowType&&([n,o]=await Ur(this.storage,this.storageKey));const{error:a}=await Yr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(s=null==i?void 0:i.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:n,code_challenge_method:o},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:t,options:s}=e,{data:o,error:a}=await Yr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==s?void 0:s.data)&&void 0!==r?r:{},create_user:null===(i=null==s?void 0:s.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},channel:null!==(n=null==s?void 0:s.channel)&&void 0!==n?n:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:a}}throw new pr("You must provide either an email or phone number.")}catch(o){if(ar(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,s;try{let r,i;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(s=e.options)||void 0===s?void 0:s.captchaToken);const{data:n,error:o}=await Yr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Xr});if(o)throw o;if(!n)throw new Error("An error occurred on token verification.");const a=n.session,l=n.user;return(null==a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(r){if(ar(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,s,r;try{let i=null,n=null;return"pkce"===this.flowType&&([i,n]=await Ur(this.storage,this.storageKey)),await Yr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(s=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==s?s:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:n}),headers:this.headers,xform:ei})}catch(i){if(ar(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new hr;const{error:r}=await Yr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(ar(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:i}=e,{error:n}=await Yr(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:n}}if("phone"in e){const{phone:s,type:r,options:i}=e,{data:n,error:o}=await Yr(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null==n?void 0:n.message_id},error:o}}throw new pr("You must provide either an email or phone number and a type")}catch(t){if(ar(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch(e){}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Dr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=!!e.expires_at&&1e3*e.expires_at-Date.now()<tr;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const t=await Dr(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=Hr()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,s,r)=>(t||"user"!==s||(t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,s,r))})}return{data:{session:e},error:null}}const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Yr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qr}):await this._useSession(async e=>{var t,s,r;const{data:i,error:n}=e;if(n)throw n;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Yr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(s=i.session)||void 0===s?void 0:s.access_token)&&void 0!==r?r:void 0,xform:Qr}):{data:{user:null},error:new hr}})}catch(t){if(ar(t))return function(e){return ar(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await $r(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new hr;const n=r.session;let o=null,a=null;"pkce"===this.flowType&&null!=e.email&&([o,a]=await Ur(this.storage,this.storageKey));const{data:l,error:c}=await Yr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:a}),jwt:n.access_token,xform:Qr});if(c)throw c;return n.user=l.user,await this._saveSession(n),await this._notifyAllSubscribers("USER_UPDATED",n),{data:{user:n.user},error:null}})}catch(s){if(ar(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new hr;const t=Date.now()/1e3;let s=t,r=!0,i=null;const{payload:n}=Mr(e.access_token);if(n.exp&&(s=n.exp,r=s<=t),r){const{data:t,error:s}=await this._callRefreshToken(e.refresh_token);if(s)return{data:{user:null,session:null},error:s};if(!t)return{data:{user:null,session:null},error:null};i=t}else{const{data:r,error:n}=await this._getUser(e.access_token);if(n)throw n;i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(ar(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:r,error:i}=t;if(i)throw i;e=null!==(s=r.session)&&void 0!==s?s:void 0}if(!(null==e?void 0:e.refresh_token))throw new hr;const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(ar(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Or())throw new mr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new mr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new fr("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new mr("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new fr("No code detected.");const{data:t,error:s}=await this._exchangeCodeForSession(e.code);if(s)throw s;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:n,expires_in:o,expires_at:a,token_type:l}=e;if(!(i&&o&&n&&l))throw new mr("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let h=c+u;a&&(h=parseInt(a));const{data:d,error:p}=await this._getUser(i);if(p)throw p;const m={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:u,expires_at:h,refresh_token:n,token_type:l,user:d.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(s){if(ar(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Dr(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:r,error:i}=t;if(i)return{error:i};const n=null===(s=r.session)||void 0===s?void 0:s.access_token;if(n){const{error:t}=await this.admin.signOut(n,e);if(t&&(!function(e){return ar(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await $r(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,r;try{const{data:{session:r},error:i}=t;if(i)throw i;await(null===(s=this.stateChangeEmitters.get(e))||void 0===s?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(i){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i)}})}async resetPasswordForEmail(e,t={}){let s=null,r=null;"pkce"===this.flowType&&([s,r]=await Ur(this.storage,this.storageKey,!0));try{return await Yr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(ar(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(ar(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:s,error:r}=await this._useSession(async t=>{var s,r,i,n,o;const{data:a,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(s=e.options)||void 0===s?void 0:s.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await Yr(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==o?o:void 0})});if(r)throw r;return Or()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==s?void 0:s.url),{data:{provider:e.provider,url:null==s?void 0:s.url},error:null}}catch(s){if(ar(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var s;try{const{error:r,data:{session:i}}=t;if(r)throw r;const{options:n,provider:o,token:a,access_token:l,nonce:c}=e,u=await Yr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!==(s=null==i?void 0:i.access_token)&&void 0!==s?s:void 0,body:{provider:o,id_token:a,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:Xr}),{data:h,error:d}=u;return d?{data:{user:null,session:null},error:d}:h&&h.session&&h.user?(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:d}):{data:{user:null,session:null},error:new dr}}catch(r){if(ar(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,r;const{data:i,error:n}=t;if(n)throw n;return await Yr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(s=i.session)||void 0===s?void 0:s.access_token)&&void 0!==r?r:void 0})})}catch(t){if(ar(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await(s=async s=>(s>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await Yr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xr})),r=(e,t)=>{const s=200*Math.pow(2,e);return t&&yr(t)&&Date.now()+s-i<er},new Promise((e,t)=>{(async()=>{for(let n=0;n<1/0;n++)try{const t=await s(n);if(!r(n,null,t))return void e(t)}catch(i){if(!r(n,i))return void t(i)}})()}))}catch(i){if(this._debug(t,"error",i),ar(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}var s,r}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),Or()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Dr(this.storage,this.storageKey);if(i&&this.userStorage){let t=await Dr(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:i.user},await Ir(this.userStorage,this.storageKey+"-user",t)),i.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:Hr()}else if(i&&!i.user&&!i.user){const e=await Dr(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(i.user=e.user,await $r(this.storage,this.storageKey+"-user"),await Ir(this.storage,this.storageKey,i)):i.user=Hr()}if(this._debug(s,"session from storage",i),!this._isValidSession(i))return this._debug(s,"session is not valid"),void(null!==i&&await this._removeSession());const n=1e3*(null!==(t=i.expires_at)&&void 0!==t?t:1/0)-Date.now()<tr;if(this._debug(s,`session has${n?"":" not"} expired with margin of 90000s`),n){if(this.autoRefreshToken&&i.refresh_token){const{error:e}=await this._callRefreshToken(i.refresh_token);e&&(yr(e)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(i.user&&!0===i.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(i.access_token);!t&&(null==e?void 0:e.user)?(i.user=e.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(r){this._debug(s,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){return void this._debug(s,"error",i)}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new hr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Lr;const{data:t,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!t.session)throw new hr;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(i){if(this._debug(r,"error",i),ar(i)){const e={data:null,error:i};return yr(i)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(s=this.refreshingDeferred)||void 0===s||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],i=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,t)}catch(i){r.push(i)}});if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),s=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!s&&t.user&&await Ir(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=Kr(e);await Ir(this.storage,this.storageKey,r)}else{const e=Kr(t);await Ir(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await $r(this.storage,this.storageKey),await $r(this.storage,this.storageKey+"-code-verifier"),await $r(this.storage,this.storageKey+"-user"),this.userStorage&&await $r(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Or()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),er);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:s}}=e;if(!s||!s.refresh_token||!s.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*s.expires_at-t)/er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(s.refresh_token)})}catch(e){}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof ai))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Or()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const r=[`provider=${encodeURIComponent(t)}`];if((null==s?void 0:s.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),(null==s?void 0:s.scopes)&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),"pkce"===this.flowType){const[e,t]=await Ur(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(s.toString())}if(null==s?void 0:s.queryParams){const e=new URLSearchParams(s.queryParams);r.push(e.toString())}return(null==s?void 0:s.skipBrowserRedirect)&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:r,error:i}=t;return i?{data:null,error:i}:await Yr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(s=null==r?void 0:r.session)||void 0===s?void 0:s.access_token})})}catch(t){if(ar(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,r;const{data:i,error:n}=t;if(n)return{data:null,error:n};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:a,error:l}=await Yr(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:null===(s=null==i?void 0:i.session)||void 0===s?void 0:s.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&"totp"===a.type&&(null===(r=null==a?void 0:a.totp)||void 0===r?void 0:r.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(t){if(ar(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:i}=t;if(i)return{data:null,error:i};const n=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?wi(e.webauthn.credential_response):bi(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:a}=await Yr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:n,headers:this.headers,jwt:null===(s=null==r?void 0:r.session)||void 0===s?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(ar(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:i}=t;if(i)return{data:null,error:i};const n=await Yr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null===(s=null==r?void 0:r.session)||void 0===s?void 0:s.access_token});if(n.error)return n;const{data:o}=n;if("webauthn"!==o.type)return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:yi(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:vi(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ar(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r={all:[],phone:[],totp:[],webauthn:[]};for(const i of null!==(e=null==t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(i),"verified"===i.status&&r[i.factor_type].push(i);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:n}=Mr(r.access_token);let o=null;n.aal&&(o=n.aal);let a=o;(null!==(s=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==s?s:[]).length>0&&(a="aal2");return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:n.amr||[]},error:null}}))}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(t=>t.kid===e);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(t=>t.kid===e),s&&this.jwks_cached_at+6e5>r)return s;const{data:i,error:n}=await Yr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(n)throw n;return i.keys&&0!==i.keys.length?(this.jwks=i,this.jwks_cached_at=r,s=i.keys.find(t=>t.kid===e),s||null):null}async getClaims(e,t={}){try{let s=e;if(!s){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};s=e.session.access_token}const{header:r,payload:i,signature:n,raw:{header:o,payload:a}}=Mr(s);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(i.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(s);if(e)throw e;return{data:{claims:i,header:r,signature:n},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!(await crypto.subtle.verify(c,u,n,Pr(`${o}.${a}`))))throw new wr("Invalid JWT signature");return{data:{claims:i,header:r,signature:n},error:null}}catch(s){if(ar(s))return{data:null,error:s};throw s}}}Oi.nextInstanceID=0;const Ni=Oi;class Ai extends Ni{constructor(e){super(e)}}class Ri{constructor(e,t,s){var r,i,n;this.supabaseUrl=e,this.supabaseKey=t;const o=function(e){const t=null==e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((s=t).endsWith("/")?s:s+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var s}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,l=function(e,t){var s,r;const{db:i,auth:n,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:h}=t,d={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),n),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},null!==(s=null==h?void 0:h.headers)&&void 0!==s?s:{}),null!==(r=null==a?void 0:a.headers)&&void 0!==r?r:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}(null!=s?s:{},{db:Js,realtime:Xs,auth:Object.assign(Object.assign({},Ys),{storageKey:a}),global:Gs});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(i=l.global.headers)&&void 0!==i?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(n=l.auth)&&void 0!==n?n:{},this.headers,l.global.fetch),this.fetch=Zs(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new ut(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Ks(this.storageUrl.href,this.headers,this.fetch,null==s?void 0:s.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Ie(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return null!==(t=null===(e=s.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:i,storageKey:n,flowType:o,lock:a,debug:l},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ai({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:n,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new rs(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,s){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===s?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=s,this.realtime.setAuth(s))}}!function(){if("undefined"!=typeof window)return!1;if("undefined"==typeof process)return!1;const e=process.version;if(null==e)return!1;const t=e.match(/^v(\d+)\./);!!t&&parseInt(t[1],10)}();let Ii=null;async function Di(e){if(!Ii)throw new Error("Supabase client not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in your environment (see .env.example) and restart the dev server.");const t={...e};!t.name&&t.full_name&&(t.name=t.full_name);const{data:s,error:r}=await Ii.from("Surgiheal_appointments").insert(t).select();if(r)throw r;return s}Ii=new Ri("https://rffmheuvpwpxysnukftn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJmZm1oZXV2cHdweHlzbnVrZnRuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE2Njk5NTAsImV4cCI6MjA3NzI0NTk1MH0.dnz3nkb4t7h6E2BU9l1hZqLRDDmAtJfxFxUCzzv6ggw",{});const $i={async createConsultation(e){try{const t=["name","phone","city","disease","age"],{errors:s,validatedData:r}=V(e,t);if(Object.keys(s).length>0)throw{status:400,message:"Validation failed",errors:s};const i={name:r.name,phone:r.phone,age:r.age,city:r.city,condition:r.disease},{data:n,error:o}=await Ii.from("Surgiheal_appointments").insert([i]).select();if(o)throw o;return{success:!0,message:"Consultation booked successfully!",data:n}}catch(t){if(t.status)throw t;throw{status:500,message:t.message||"Something went wrong with Supabase insert.",errors:{}}}}},Li=()=>{const[s,r]=t.useState({name:"",phone:"",age:"",city:"",disease:""}),[i,n]=t.useState(!1),[o,a]=t.useState({show:!1,message:"",type:""}),[l,f]=t.useState({}),g=(e,t)=>{r(s=>({...s,[e]:t})),l[e]&&f(t=>({...t,[e]:""}))},y=(e,t)=>{a({show:!0,message:e,type:t})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-sm p-4 w-72",children:[e.jsx("div",{className:"text-center mb-4",children:e.jsxs("p",{className:"text-xs bg-[purple] py-3 rounded-sm px-2 text-white flex items-center justify-center gap-2",children:[e.jsx(c,{strokeWidth:1,size:16}),"Book your free consultation"]})}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),f({}),n(!0);try{const e=await $i.createConsultation(s);y(e.message||"Consultation booked successfully!","success"),r({name:"",phone:"",age:"",city:"",disease:""})}catch(t){t.errors&&Object.keys(t.errors).length>0?(f(t.errors),y(t.message||"Please fix the errors below","error")):y(t.message||"Failed to submit appointment. Please try again.","error")}finally{n(!1)}},className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-2 top-2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Full Name *",value:s.name,onChange:e=>g("name",e.target.value),className:"w-full pl-8 pr-3 py-2 text-sm border rounded-md focus:outline-none focus:border-purple-500 transition-colors "+(l.name?"border-red-500":"border-gray-300"),required:!0}),l.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.name})]}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute left-2 top-2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"tel",placeholder:"Phone Number *",value:s.phone,onChange:e=>g("phone",e.target.value),className:"w-full pl-8 pr-3 py-2 text-sm border rounded-md focus:outline-none focus:border-purple-500 transition-colors "+(l.mobile||l.phone?"border-red-500":"border-gray-300"),required:!0}),(l.mobile||l.phone)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.mobile||l.phone})]}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{className:"absolute left-2 top-2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"number",placeholder:"Age *",min:"1",max:"129",value:s.age,onChange:e=>g("age",e.target.value),className:"w-full pl-8 pr-3 py-2 text-sm border rounded-md focus:outline-none focus:border-purple-500 transition-colors "+(l.age?"border-red-500":"border-gray-300"),required:!0}),l.age&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.age})]}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"absolute left-2 top-2 w-4 h-4 text-gray-400"}),e.jsx("select",{value:s.city,onChange:e=>g("city",e.target.value),className:"w-full pl-8 pr-3 py-2 text-sm border rounded-md focus:outline-none focus:border-purple-500 transition-colors appearance-none "+(l.city?"border-red-500":"border-gray-300"),required:!0,children:[{value:"",label:"Select City"},{value:"hyderabad",label:"Hyderabad"},{value:"bangalore",label:"Bangalore"},{value:"chennai",label:"Chennai"},{value:"mumbai",label:"Mumbai"},{value:"delhi",label:"Delhi"},{value:"pune",label:"Pune"}].map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))}),l.city&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.city})]}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-2 top-2 w-4 h-4 text-gray-400"}),e.jsx("select",{value:s.disease,onChange:e=>g("disease",e.target.value),className:"w-full pl-8 pr-3 py-2 text-sm border rounded-md focus:outline-none focus:border-purple-500 transition-colors appearance-none "+(l.disease?"border-red-500":"border-gray-300"),required:!0,children:[{value:"",label:"Select Disease"},{value:"cardiology",label:"Heart Disease"},{value:"orthopedics",label:"Bone & Joint Issues"},{value:"neurology",label:"Neurological Disorders"},{value:"pediatrics",label:"Child Health"},{value:"emergency",label:"Emergency Care"},{value:"general",label:"General Consultation"}].map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))}),l.disease&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.disease})]}),e.jsxs("button",{type:"submit",disabled:i,className:"w-full bg-purple-600 text-white py-2 rounded-md text-sm font-semibold hover:bg-purple-700 transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[i?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):e.jsx(m,{className:"w-4 h-4 mr-2"}),i?"Submitting...":"Book Now"]})]})]}),e.jsx(W,{message:o.message,type:o.type,isVisible:o.show,onClose:()=>a({show:!1,message:"",type:""})})]})},Mi=()=>{const[s,r]=t.useState(!1),i=t.useRef(null);return e.jsx("section",{className:"flex items-center bg-teal-400 overflow-hidden pt-16",children:e.jsx("div",{className:" relative z-10 w-full",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3  items-stretch",children:[e.jsxs("div",{className:"flex flex-col justify-center animate-fade-in-up p-8 bg-sky-400",children:[e.jsxs("h1",{className:"text-4xl lg:text-5xl font-semibold text-[purple] mb-6 uppercase leading-tight",children:["Your Health, Our",e.jsx("span",{className:"text-white block",children:"Priority"})]}),e.jsx("p",{className:"text-md text-gray-600 font-medium mb-6 leading-relaxed",children:"Surgi Heal delivers end-to-end perioperative care with a 24/7 Clinical Care Coordinator guiding every step—preoperative planning, insurance facilitation, inpatient support, transport, attendant welfare, and structured postoperative follow-up."}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-5",children:[e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-md hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"text-2xl mb-1",children:"🩺"}),e.jsx("div",{className:"text-xxl font-medium text-gray-800",children:"Free Consultation"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-md hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"text-2xl mb-1",children:"🚗"}),e.jsx("div",{className:"text-xxl font-medium text-gray-800",children:"Free Cab Service"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-md hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"text-2xl mb-1",children:"💳"}),e.jsx("div",{className:"text-xxl font-medium text-gray-800",children:"Zero-Cost EMI"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-md hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"text-2xl mb-1",children:"🛡️"}),e.jsx("div",{className:"text-xxl font-medium text-gray-800",children:"Insurance Help"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-md hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"text-2xl mb-1",children:"👨‍⚕️"}),e.jsx("div",{className:"text-xxl font-medium text-gray-800",children:"24/7 Care Coordinator"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-md hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"text-2xl mb-1",children:"🔄"}),e.jsx("div",{className:"text-xxl font-medium text-gray-800",children:"Follow-Up Care"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-12",children:[e.jsx(B,{label:"Book Appointment",icon:e.jsx(f,{strokeWidth:1,size:18}),onClick:()=>i.current?.scrollIntoView({behavior:"smooth"})}),e.jsx(B,{label:"Watch Our Story",icon:e.jsx(g,{strokeWidth:1,size:18}),onClick:()=>{const e=document.getElementById("video");e?.scrollIntoView({behavior:"smooth"})}})]}),e.jsxs("div",{className:"bg-white w-full mx-auto relative group backdrop-blur-sm rounded-sm p-4 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-black mb-1",children:"24/7 Emergency Hotline"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Call us anytime for urgent medical assistance"})]}),e.jsxs("a",{href:"tel:+919381087752",className:"text-gray-100 bg-red-700 px-6 py-3 rounded-full font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center ",children:[e.jsx(f,{className:"w-4 h-4 mr-2",strokeWidth:2}),e.jsx("span",{className:"font-medium text-sm font-sans",children:" +919381087752"})]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-20 h-full group-hover:w-24 duration-300 bg-sky-200 -z-10"})]})]}),e.jsxs("div",{className:"relative flex items-end justify-center h-full   lg:border-l-4 border-[purple]",children:[e.jsx("img",{src:"/Surgiheal/assets/background-BUv13wem.jpg",alt:"Home-page",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-0 h-64 sm:h-96 w-64 sm:w-96 bg-[purple] border-[10px] border-[purple] -z-10 rounded-full"}),e.jsx("div",{className:"hidden lg:flex absolute top-6 left-6 p-6 bg-white text-xl font-bold justify-center items-center flex-col rounded-full shadow-lg",children:e.jsx(U,{end:30,suffix:"+",label:"Doctors",duration:1800,delay:800})})]}),e.jsxs("div",{ref:i,className:"flex flex-col items-center justify-center text-center p-6 bg-[purple]",children:[e.jsxs("h2",{className:"text-2xl font-medium text-white uppercase",children:["Book Your ",e.jsx("span",{className:"text-yellow-400 font-semibold animate-pulse",children:"Free"})," Appointment"]}),e.jsxs("p",{className:"text-sm text-gray-300 mb-4",children:["Get a free consultation and ",e.jsx("span",{className:"font-semibold text-yellow-400",children:"Free scan"})," today."]}),e.jsx(Li,{})]})]})})})},Vi=({isOpen:s,onClose:r})=>{const[i,n]=t.useState({name:"",phone:"",age:"",city:"",service:""}),[o,a]=t.useState({}),[c,f]=t.useState(!1),g=e=>{const{name:t,value:s}=e.target;n(e=>({...e,[t]:s})),o[t]&&a(e=>({...e,[t]:""}))};return s?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:e.jsxs("div",{className:"flex flex-col lg:flex-row min-h-[300px]",children:[e.jsxs("div",{className:"lg:w-1/2 p-6 lg:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Book Free Consultation"}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:e.jsx(l,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),a({}),f(!0);try{const e=["name","phone","age","city","service"],{errors:t,validatedData:s}=V(i,e);if(Object.keys(t).length>0)return void a(t);const o={name:s.name,phone:s.phone,age:s.age,city:s.city,condition:s.service};await Di(o);alert("Consultation booked successfully! We will contact you soon."),n({name:"",phone:"",age:"",city:"",service:""}),r()}catch(t){t.errors&&Object.keys(t.errors).length>0?a(t.errors):alert(t.message||"Failed to book consultation. Please try again.")}finally{f(!1)}},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",name:"name",placeholder:"Full Name *",value:i.name,onChange:g,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent "+(o.name?"border-red-500":"border-gray-300"),required:!0})]}),o.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.name})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number *",value:i.phone,onChange:g,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent "+(o.phone?"border-red-500":"border-gray-300"),required:!0})]}),o.phone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.phone})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(d,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"number",name:"age",placeholder:"Age *",min:"1",max:"129",value:i.age,onChange:g,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent "+(o.age?"border-red-500":"border-gray-300"),required:!0}),o.age&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.age})]}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsxs("select",{name:"city",value:i.city,onChange:g,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent appearance-none "+(o.city?"border-red-500":"border-gray-300"),required:!0,children:[e.jsx("option",{value:"",children:"Select City *"}),e.jsxs("optgroup",{label:"Telangana",children:[e.jsx("option",{value:"Hyderabad",children:"Hyderabad"}),e.jsx("option",{value:"Warangal",children:"Warangal"}),e.jsx("option",{value:"Nizamabad",children:"Nizamabad"}),e.jsx("option",{value:"Karimnagar",children:"Karimnagar"}),e.jsx("option",{value:"Khammam",children:"Khammam"}),e.jsx("option",{value:"Nalgonda",children:"Nalgonda"}),e.jsx("option",{value:"Ramagundam",children:"Ramagundam"}),e.jsx("option",{value:"Mahbubnagar",children:"Mahbubnagar"}),e.jsx("option",{value:"Adilabad",children:"Adilabad"}),e.jsx("option",{value:"Siddipet",children:"Siddipet"})]}),e.jsxs("optgroup",{label:"Andhra Pradesh",children:[e.jsx("option",{value:"Visakhapatnam",children:"Visakhapatnam"}),e.jsx("option",{value:"Vijayawada",children:"Vijayawada"}),e.jsx("option",{value:"Guntur",children:"Guntur"}),e.jsx("option",{value:"Nellore",children:"Nellore"}),e.jsx("option",{value:"Kurnool",children:"Kurnool"}),e.jsx("option",{value:"Tirupati",children:"Tirupati"}),e.jsx("option",{value:"Rajahmundry",children:"Rajahmundry"}),e.jsx("option",{value:"Kadapa",children:"Kadapa"}),e.jsx("option",{value:"Anantapur",children:"Anantapur"}),e.jsx("option",{value:"Ongole",children:"Ongole"})]}),e.jsxs("optgroup",{label:"Other Major Cities",children:[e.jsx("option",{value:"Bangalore",children:"Bangalore"}),e.jsx("option",{value:"Chennai",children:"Chennai"}),e.jsx("option",{value:"Mumbai",children:"Mumbai"}),e.jsx("option",{value:"Delhi",children:"Delhi"}),e.jsx("option",{value:"Pune",children:"Pune"})]})]}),o.city&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.city})]})]}),e.jsxs("div",{children:[e.jsxs("select",{name:"service",value:i.service,onChange:g,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent "+(o.service?"border-red-500":"border-gray-300"),required:!0,children:[e.jsx("option",{value:"",children:"Select Disease/Condition *"}),e.jsxs("optgroup",{label:"General Surgery",children:[e.jsx("option",{value:"hernia",children:"Hernia Repair"}),e.jsx("option",{value:"appendectomy",children:"Appendectomy"}),e.jsx("option",{value:"gallbladder",children:"Gallbladder Surgery"}),e.jsx("option",{value:"thyroid",children:"Thyroid Surgery"})]}),e.jsxs("optgroup",{label:"Proctology",children:[e.jsx("option",{value:"piles",children:"Piles Treatment"}),e.jsx("option",{value:"anal-fissure",children:"Anal Fissure"}),e.jsx("option",{value:"anal-fistula",children:"Anal Fistula"}),e.jsx("option",{value:"pilonidal-sinus",children:"Pilonidal Sinus"})]}),e.jsxs("optgroup",{label:"Laparoscopic Surgery",children:[e.jsx("option",{value:"laparoscopic-cholecystectomy",children:"Laparoscopic Cholecystectomy"}),e.jsx("option",{value:"laparoscopic-hernia",children:"Laparoscopic Hernia Repair"}),e.jsx("option",{value:"laparoscopic-appendectomy",children:"Laparoscopic Appendectomy"}),e.jsx("option",{value:"bowel-surgery",children:"Bowel Surgery"})]}),e.jsxs("optgroup",{label:"Urology",children:[e.jsx("option",{value:"kidney-stones",children:"Kidney Stones"}),e.jsx("option",{value:"prostate",children:"Prostate Problems"}),e.jsx("option",{value:"urinary-issues",children:"Urinary Issues"}),e.jsx("option",{value:"bladder-conditions",children:"Bladder Conditions"})]}),e.jsxs("optgroup",{label:"Gastroenterology",children:[e.jsx("option",{value:"gastric-surgery",children:"Gastric Surgery"}),e.jsx("option",{value:"liver-conditions",children:"Liver Conditions"}),e.jsx("option",{value:"digestive-disorders",children:"Digestive Disorders"}),e.jsx("option",{value:"colorectal-surgery",children:"Colorectal Surgery"})]}),e.jsxs("optgroup",{label:"Gynecology & Obstetrics",children:[e.jsx("option",{value:"gynecologic-surgery",children:"Gynecologic Surgery"}),e.jsx("option",{value:"fertility-issues",children:"Fertility Issues"}),e.jsx("option",{value:"maternity-care",children:"Maternity Care"}),e.jsx("option",{value:"womens-health",children:"Women's Health"})]}),e.jsxs("optgroup",{label:"Oncology",children:[e.jsx("option",{value:"cancer-surgery",children:"Cancer Surgery"}),e.jsx("option",{value:"chemotherapy",children:"Chemotherapy"}),e.jsx("option",{value:"tumor-removal",children:"Tumor Removal"}),e.jsx("option",{value:"cancer-treatment",children:"Cancer Treatment"})]}),e.jsxs("optgroup",{label:"Orthopedics",children:[e.jsx("option",{value:"joint-replacement",children:"Joint Replacement"}),e.jsx("option",{value:"fracture-management",children:"Fracture Management"}),e.jsx("option",{value:"sports-injury",children:"Sports Injury"}),e.jsx("option",{value:"bone-conditions",children:"Bone Conditions"})]}),e.jsxs("optgroup",{label:"Plastic Surgery",children:[e.jsx("option",{value:"cosmetic-surgery",children:"Cosmetic Surgery"}),e.jsx("option",{value:"reconstructive-surgery",children:"Reconstructive Surgery"}),e.jsx("option",{value:"aesthetic-procedures",children:"Aesthetic Procedures"})]}),e.jsxs("optgroup",{label:"Vascular Surgery",children:[e.jsx("option",{value:"varicose-veins",children:"Varicose Veins"}),e.jsx("option",{value:"vascular-disorders",children:"Vascular Disorders"})]}),e.jsxs("optgroup",{label:"ENT",children:[e.jsx("option",{value:"ear-problems",children:"Ear Problems"}),e.jsx("option",{value:"nose-conditions",children:"Nose Conditions"}),e.jsx("option",{value:"throat-issues",children:"Throat Issues"})]}),e.jsxs("optgroup",{label:"Podiatric Surgery",children:[e.jsx("option",{value:"foot-surgery",children:"Foot Surgery"}),e.jsx("option",{value:"ankle-surgery",children:"Ankle Surgery"}),e.jsx("option",{value:"diabetic-foot",children:"Diabetic Foot Care"})]})]}),o.service&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.service})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full bg-teal-600 text-white py-3 rounded-lg hover:bg-teal-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Booking..."]}):"Book Free Consultation"})]})]}),e.jsx("div",{className:"lg:w-1/2 bg-gradient-to-br from-teal-600 to-teal-800 text-white p-6 lg:p-8 flex flex-col justify-center",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Experience world-class healthcare with our comprehensive surgical and medical services."})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-white bg-opacity-20 p-2 rounded-full",children:e.jsx(m,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Free Consultation"}),e.jsx("p",{className:"text-sm text-teal-100",children:"Expert medical advice at no cost"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-white bg-opacity-20 p-2 rounded-full",children:e.jsx(m,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-200",children:"Free Scanning"}),e.jsx("p",{className:"text-sm text-teal-100",children:"Complimentary diagnostic scanning"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-white bg-opacity-20 p-2 rounded-full",children:e.jsx(y,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Insurance Assistance"}),e.jsx("p",{className:"text-sm text-teal-100",children:"Complete insurance claim support"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-white bg-opacity-20 p-2 rounded-full",children:e.jsx(v,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"24/7 Care Coordination"}),e.jsx("p",{className:"text-sm text-teal-100",children:"Round-the-clock patient support"})]})]})]}),e.jsxs("p",{className:"text-sm text-center",children:[e.jsx("span",{className:"font-semibold",children:"Call Now:"})," +91 93810 87752"]})]})})]})})}):null},Bi=()=>{i();const[s,r]=t.useState(!1),[n,o]=t.useState(null),[a,l]=t.useState(!1),c=[{src:"/Surgiheal/assets/piles-TOdKyO_l.jpg",name:"Piles Treatment",alt:"Piles",specialty:"General Surgery"},{src:"/Surgiheal/assets/hernia-BfTm0I1x.jpg",name:"Hernia Surgery",alt:"Hernia",specialty:"General Surgery"},{src:"/Surgiheal/assets/analFissure-CAvuMkiW.jpg",name:"Anal Fissure",alt:"Anal Fissure",specialty:"General Surgery"},{src:"/Surgiheal/assets/analFistula-BmLxKUnR.jpg",name:"Anal Fistula",alt:"Anal Fistula",specialty:"General Surgery"},{src:"/Surgiheal/assets/lipoma-DYrEgeUF.jpg",name:"Lipoma Removal",alt:"Lipoma",specialty:"Plastic & Reconstructive Surgery"},{src:"/Surgiheal/assets/gynecomastia-W0COaJMF.jpg",name:"Gynecomastia Surgery",alt:"Gynecomastia",specialty:"Plastic & Reconstructive Surgery"},{src:"/Surgiheal/assets/laserCircumcision-B_Xy-aPU.jpg",name:"Laser Circumcision",alt:"Laser Circumcision",specialty:"General Surgery"},{src:"/Surgiheal/assets/varicoseVeins-BJ0Db6ak.jpg",name:"Varicose Veins",alt:"Varicose Veins",specialty:"General Surgery"},{src:"/Surgiheal/assets/deepVeinThrombosis-CUoysJGy.jpg",name:"Deep Vein Thrombosis",alt:"DVT",specialty:"General Surgery"},{src:"/Surgiheal/assets/aclTear-BPOnRJtH.jpg",name:"ACL Tear Treatment",alt:"ACL Tear",specialty:"Orthopedics & Joint Replacement"},{src:"/Surgiheal/assets/diabeticFootulcer-eYoV3U9Q.jpg",name:"Diabetic Foot Care",alt:"Diabetic Foot",specialty:"General Surgery"},{src:"/Surgiheal/assets/uterineFibroid-BGAx9its.jpg",name:"Uterine Fibroid",alt:"Uterine Fibroid",specialty:"Obstetrics & Gynaecology"},{src:"/Surgiheal/assets/Hysterectomy%20-BH9agaPQ.jpg",name:"Hysterectomy",alt:"Hysterectomy",specialty:"Obstetrics & Gynaecology"},{src:"/Surgiheal/assets/Laproscopic%20tubectomy-C3oWa-lr.jpg",name:"Laparoscopic Tubectomy",alt:"Tubectomy",specialty:"Obstetrics & Gynaecology"},{src:"/Surgiheal/assets/ovarian%20cyst%20-Ba80_acM.jpg",name:"Ovarian Cyst",alt:"Ovarian Cyst",specialty:"Obstetrics & Gynaecology"},{src:"/Surgiheal/assets/Kidney%20stones%20-BRmHdv93.jpg",name:"Kidney Stones",alt:"Kidney Stones",specialty:"Urology"},{src:"/Surgiheal/assets/ESWL%20Surgery%20-qZ4ASnL-.jpg",name:"ESWL Surgery",alt:"ESWL",specialty:"Urology"},{src:"/Surgiheal/assets/PCNL%20surgery%20-TsM7jVqg.jpg",name:"PCNL Surgery",alt:"PCNL",specialty:"Urology"},{src:"/Surgiheal/assets/RIRS%20surgery%20-5FLlB2Zl.jpg",name:"RIRS Surgery",alt:"RIRS",specialty:"Urology"},{src:"/Surgiheal/assets/URSL%20Surgery%20-BP-8afg7.jpg",name:"URSL Surgery",alt:"URSL",specialty:"Urology"},{src:"/Surgiheal/assets/Uretric%20Calculi-CssIoRtP.jpg",name:"Ureteric Calculi",alt:"Ureteric Stones",specialty:"Urology"},{src:"/Surgiheal/assets/Vasectomy%20-CjDF_Gir.jpg",name:"Vasectomy",alt:"Vasectomy",specialty:"Urology"},{src:"/Surgiheal/assets/Gall%20bladder%20stones-DNTqfTOd.jpg",name:"Gall Bladder Stones",alt:"Gallbladder",specialty:"General Surgery"},{src:"/Surgiheal/assets/Pilonidal%20sinus%20-BuBKXisj.jpg",name:"Pilonidal Sinus",alt:"Pilonidal Sinus",specialty:"General Surgery"},{src:"/Surgiheal/assets/Sebaceous%20cyst-LB-2dMkc.jpg",name:"Sebaceous Cyst",alt:"Sebaceous Cyst",specialty:"General Surgery"},{src:"/Surgiheal/assets/Thyroid%20tumour%20-DN9Lk8AN.jpg",name:"Thyroid Tumour",alt:"Thyroid Surgery",specialty:"General Surgery"}],u=e=>{l(!0)},h=s?c:c.slice(0,6),d=c.length>6;return t.useEffect(()=>{const e=()=>o(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]),e.jsxs("div",{className:"mt-8 mb-4",children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 justify-items-center",children:h.map((t,s)=>e.jsxs("div",{className:"relative flex flex-col items-center group w-32 sm:w-40 md:w-44 lg:w-48",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.src,alt:t.alt,className:"w-28 h-28 sm:w-36 sm:h-36 md:w-40 md:h-40 lg:w-44 lg:h-44 object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer",onClick:()=>u(t.specialty)}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),o(n===s?null:s)},className:"w-8 h-8 bg-white/80 rounded-full flex items-center justify-center hover:bg-white transition-colors",title:"More Options",children:e.jsx(w,{className:"w-6 h-6 text-gray-600"})}),n===s&&e.jsxs("div",{className:"absolute top-6 right-0 bg-white border rounded-lg shadow-lg py-1 z-10 w-32",children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),u(t.specialty),o(null)},className:"w-full px-3 py-1 text-left text-xs hover:bg-gray-100",children:"View Details"}),e.jsx("button",{onClick:e=>{e.stopPropagation(),l(!0),o(null)},className:"w-full px-3 py-1 text-left text-xs hover:bg-gray-100",children:"Book Now"})]})]})})]}),e.jsx("span",{className:"text-sm md:text-base text-gray-700 mt-3 text-center leading-tight",children:t.name})]},s))}),d&&e.jsx("div",{className:"text-center mt-6",children:e.jsx("button",{onClick:()=>r(!s),className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:s?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Show Less"]}):e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Show More (",c.length-6," more)"]})})}),e.jsx(Vi,{isOpen:a,onClose:()=>l(!1)})]})},Ui="/Surgiheal/assets/General-Surgery-BgaxNd-o.png",Fi="/Surgiheal/assets/medical%20oncology-DDppcryN.jpg",Wi=()=>{const s=i(),[r,n]=t.useState("all"),[o,a]=t.useState(""),[l,u]=t.useState(!1),h=[{id:"all",name:"All Services",icon:c},{id:"emergency",name:"Emergency Care",icon:j},{id:"speciality",name:"Specialities",icon:m},{id:"diagnostic",name:"Diagnostics",icon:k},{id:"surgical",name:"Surgical",icon:T}],d=[{id:1,category:"speciality",title:"General Surgery ",description:" Comprehensive surgical care for hernia, appendix, and other common procedures.",icon:m,image:Ui,features:["Hernia Repair","Appendectomy","Gallbladder Surgery","Thyroid Surgery"],color:"red",rating:4.9},{id:2,category:"speciality",title:"Proctology",description:" Treatment for piles, fissure, fistula, and related anorectal disorders.",icon:j,image:"/Surgiheal/assets/protocology-DU8OPRpc.jpg",features:["Piles Treatment","Anal Fissure","Anal Fistula","Pilonidal Sinus"],color:"red",rating:4.8},{id:3,category:"speciality",title:"Laparoscopic Surgeries",description:"Keyhole procedures ensuring faster recovery and minimal scars.",icon:_,image:"/Surgiheal/assets/Laparoscopy-CgomgQQj.jpg",features:["Laparoscopic Cholecystectomy","Hernia Repair","Appendectomy","Bowel Surgery"],color:"purple",rating:4.9},{id:4,category:"speciality",title:"Surgical Gastroenterology",description:"Advanced GI and abdominal surgeries for digestive health.",icon:S,image:"/Surgiheal/assets/Surgical%20Gastroenterology--XukbIlu.jpg",features:["Gastric Surgery","Liver Surgery","Colorectal Surgery","Digestive Disorders"],color:"blue",rating:4.7},{id:5,category:"speciality",title:"Urology",description:"Treatment for urinary and kidney conditions using the latest techniques.",icon:k,image:"/Surgiheal/assets/Urology-OOvhOMrj.jpg",features:["Kidney Stones","Prostate Surgery","Bladder Conditions","Urinary Issues"],color:"green",rating:4.8},{id:6,category:"speciality",title:"Surgical Oncology",description:"Expert cancer surgeries with multidisciplinary coordination.",icon:T,image:Fi,features:["Cancer Surgery","Tumor Removal","Chemotherapy","Cancer Treatment"],color:"indigo",rating:4.9},{id:7,category:"diagnostic",title:"Medical Oncology ",description:" Chemotherapy and advanced non-surgical cancer treatments.",icon:k,image:Fi,features:["MRI/CT Scan","Ultrasound","Digital X-Ray","Mammography"],color:"cyan",rating:4.6},{id:8,category:"diagnostic",title:" Gynecology & Obstetrics",description:"Women's health, fertility, and maternity care with compassion.",icon:k,image:"/Surgiheal/assets/Gynecology%20_%20Obstetrics-Bg75KTuD.jpg",features:["Blood Tests","Pathology","Microbiology","Genetic Testing"],color:"teal",rating:4.7},{id:9,category:"surgical",title:" Plastic Surgery ",description:" Cosmetic and reconstructive procedures for aesthetic and functional results",icon:T,image:"/Surgiheal/assets/plastic%20surgery-Ge-kjD7J.jpg",features:["Laparoscopic Surgery","Robotic Surgery","Day Care Surgery","Trauma Surgery"],color:"orange",rating:4.8},{id:10,category:"speciality",title:"Vascular Surgery",description:" Treatment for varicose veins and vascular disorders.",icon:y,image:"/Surgiheal/assets/vascular%20surgery-ER-6bt6-.jpg",features:["Skin Cancer Screening","Laser Treatment","Cosmetic Procedures","Acne Treatment"],color:"pink",rating:4.6},{id:11,category:"speciality",title:"Podiatric Surgery",description:" Specialized foot and ankle surgical solutions.",icon:j,image:"/Surgiheal/assets/Podiatric%20Surgery-0bKMtcKE.jpg",features:["Endoscopy","Liver Care","IBD Treatment","Colonoscopy"],color:"yellow",rating:4.7},{id:12,category:"speciality",title:"ENT",description:"Ear, nose, and throat treatments using endoscopic and microsurgical techniques.",icon:v,image:"/Surgiheal/assets/ENT-DVxu_AAc.jpg",features:["Ear Problems","Nose Conditions","Throat Issues","Endoscopic Surgery"],color:"red",rating:4.5},{id:13,category:"speciality",title:"Orthopedics",description:"Joint replacement, fracture management, and sports injury care.",icon:E,image:"/Surgiheal/assets/Orthopedics%20-C1ttvoOJ.jpg",features:["Joint Replacement","Fracture Management","Sports Injury","Bone Conditions"],color:"purple",rating:4.9},{id:14,category:"emergency",title:"Emergency Care",description:"24/7 emergency medical services with rapid response and critical care.",icon:j,image:Ui,features:["24/7 Emergency","Ambulance Service","Critical Care","Trauma Management"],color:"red",rating:4.8}],p=t.useMemo(()=>{let e="all"===r?d:d.filter(e=>e.category===r);return o.trim()&&(e=e.filter(e=>e.title.toLowerCase().includes(o.toLowerCase())||e.description.toLowerCase().includes(o.toLowerCase())||e.features.some(e=>e.toLowerCase().includes(o.toLowerCase())))),e},[r,o]),f=l?p:p.slice(0,3),g=p.length>3,w=l||p.length<=3;return e.jsx("section",{className:"px-4 pt-16 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(Bi,{}),e.jsxs("div",{className:"text-center mb-10",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl uppercase font-medium text-gray-800 mb-6 flex items-center justify-center gap-3",children:[e.jsx(c,{className:"w-8 h-8 text-teal-500"}),e.jsx("span",{className:"bg-teal-400 p-3",children:"Our"})," ",e.jsx("span",{className:"text-[purple]",children:"Specialities"}),e.jsx(m,{className:"w-8 h-8 text-purple-600"})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Comprehensive healthcare services delivered by experienced specialists using advanced technology and evidence-based treatments for optimal patient outcomes."})]}),e.jsxs("div",{className:"bg-gray-200 p-6",children:[e.jsx("div",{className:"max-w-md mx-auto mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search services, treatments, or specialties...",value:o,onChange:e=>{a(e.target.value),u(!1)},className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent outline-none transition-all duration-200"}),o&&e.jsx("button",{onClick:()=>a(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"×"})]})}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:h.map(t=>{const s=t.icon;return e.jsxs("button",{onClick:()=>{return e=t.id,n(e),u(!1),void a("");var e},className:"flex items-center px-4 py-2 text-sm rounded-full font-medium transition-all duration-300 "+(r===t.id?"bg-teal-400 text-white transform scale-105":"border border-gray-300 text-gray-600 hover:bg-blue-50 hover:text-blue-600"),children:[e.jsx(s,{className:"w-5 h-5 mr-2"}),t.name]},t.id)})}),e.jsx("div",{className:"text-center mb-6",children:e.jsx("p",{className:"text-gray-600",children:o?e.jsxs(e.Fragment,{children:["Showing ",f.length," of ",p.length,' results for "',o,'"']}):e.jsxs(e.Fragment,{children:["Showing ",f.length," of ",p.length," services"]})})}),f.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:f.map(t=>{const r=t.icon;return e.jsxs("div",{className:"group bg-white rounded-sm hover:shadow-2xl transition-all duration-300 overflow-hidden transform hover:-translate-y-2 cursor-pointer",onClick:()=>(e=>{const t={"general surgery":"/services/surgery",proctology:"/services/proctology","laparoscopic surgeries":"/services/laparoscopic-surgery","surgical gastroenterology":"/services/gastroenterology",urology:"/services/urology","surgical oncology":"/services/oncology","medical oncology":"/services/oncology","gynecology & obstetrics":"/services/gynecology","plastic surgery":"/services/laser-surgery","vascular surgery":"/services/surgery","podiatric surgery":"/services/surgery",ent:"/services/surgery",orthopedics:"/services/orthopedics","emergency care":"/services/emergency","laser surgery":"/services/laser-surgery"}[e.title.toLowerCase().trim()];t&&s(t)})(t),children:[e.jsxs("div",{className:"relative p-4 text-white overflow-hidden",style:{backgroundImage:`linear-gradient(to right, rgba(0,0,0,0.6), rgba(0,0,0,0.2)), url(${t.image||"/Surgiheal/assets/serives-bg-CsXNBuuf.jpg"})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[e.jsx(r,{strokeWidth:2,size:20}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(C,{className:"w-4 h-4 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:t.rating})]})]}),e.jsx("h3",{className:"text-md font-medium mb-2 relative z-10",children:t.title})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("p",{className:"text-gray-600 text-sm mb-6 leading-relaxed",children:t.description}),e.jsx("div",{className:"flex justify-end space-x-3 px-3",children:e.jsx("button",{className:" cursor-pointer",children:e.jsx(O,{strokeWidth:1,size:18,className:""})})})]})]},t.id)})}),g&&e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>u(!l),className:"inline-flex items-center px-6 py-3 bg-teal-400 text-white rounded-lg hover:bg-teal-500 transition-all duration-300 transform hover:scale-105 font-medium",children:w?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"w-5 h-5 mr-2"}),"Show Less"]}):e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"w-5 h-5 mr-2"}),"Load More Services (",p.length-3," more)"]})})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(P,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"No services found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:o?`No services match your search "${o}". Try different keywords or browse categories.`:"No services available in this category."}),o&&e.jsx("button",{onClick:()=>a(""),className:"text-teal-500 hover:text-teal-600 font-medium",children:"Clear search and show all services"})]})]})]})})},qi=t.createContext({});const Hi="undefined"!=typeof window,Ki=Hi?t.useLayoutEffect:t.useEffect,zi=t.createContext(null);function Gi(e,t){-1===e.indexOf(t)&&e.push(t)}function Ji(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Yi=(e,t,s)=>s>t?t:s<e?e:s;const Xi={},Zi=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Qi(e){return"object"==typeof e&&null!==e}const en=e=>/^0[^.\s]+$/u.test(e);function tn(e){let t;return()=>(void 0===t&&(t=e()),t)}const sn=e=>e,rn=(e,t)=>s=>t(e(s)),nn=(...e)=>e.reduce(rn),on=(e,t,s)=>{const r=t-e;return 0===r?1:(s-e)/r};class an{constructor(){this.subscriptions=[]}add(e){return Gi(this.subscriptions,e),()=>Ji(this.subscriptions,e)}notify(e,t,s){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,s);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ln=e=>1e3*e,cn=e=>e/1e3;function un(e,t){return t?e*(1e3/t):0}const hn=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e;function dn(e,t,s,r){if(e===t&&s===r)return sn;const i=t=>function(e,t,s,r,i){let n,o,a=0;do{o=t+(s-t)/2,n=hn(o,r,i)-e,n>0?s=o:t=o}while(Math.abs(n)>1e-7&&++a<12);return o}(t,0,1,e,s);return e=>0===e||1===e?e:hn(i(e),t,r)}const pn=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,mn=e=>t=>1-e(1-t),fn=dn(.33,1.53,.69,.99),gn=mn(fn),yn=pn(gn),vn=e=>(e*=2)<1?.5*gn(e):.5*(2-Math.pow(2,-10*(e-1))),wn=e=>1-Math.sin(Math.acos(e)),bn=mn(wn),xn=pn(wn),jn=dn(.42,0,1,1),_n=dn(0,0,.58,1),Sn=dn(.42,0,.58,1),kn=e=>Array.isArray(e)&&"number"==typeof e[0],Tn={linear:sn,easeIn:jn,easeInOut:Sn,easeOut:_n,circIn:wn,circInOut:xn,circOut:bn,backIn:gn,backInOut:yn,backOut:fn,anticipate:vn},En=e=>{if(kn(e)){e.length;const[t,s,r,i]=e;return dn(t,s,r,i)}return"string"==typeof e?Tn[e]:e},Pn=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Cn(e,t){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},n=()=>s=!0,o=Pn.reduce((e,t)=>(e[t]=function(e){let t=new Set,s=new Set,r=!1,i=!1;const n=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(t){n.has(t)&&(l.schedule(t),e()),t(o)}const l={schedule:(e,i=!1,o=!1)=>{const a=o&&r?t:s;return i&&n.add(e),a.has(e)||a.add(e),e},cancel:e=>{s.delete(e),n.delete(e)},process:e=>{o=e,r?i=!0:(r=!0,[t,s]=[s,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(e)))}};return l}(n),e),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:d,render:p,postRender:m}=o,f=()=>{const n=Xi.useManualTiming?i.timestamp:performance.now();s=!1,Xi.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(n-i.timestamp,40),1)),i.timestamp=n,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),h.process(i),d.process(i),p.process(i),m.process(i),i.isProcessing=!1,s&&t&&(r=!1,e(f))};return{schedule:Pn.reduce((t,n)=>{const a=o[n];return t[n]=(t,n=!1,o=!1)=>(s||(s=!0,r=!0,i.isProcessing||e(f)),a.schedule(t,n,o)),t},{}),cancel:e=>{for(let t=0;t<Pn.length;t++)o[Pn[t]].cancel(e)},state:i,steps:o}}const{schedule:On,cancel:Nn,state:An,steps:Rn}=Cn("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:sn,!0);let In;function Dn(){In=void 0}const $n={now:()=>(void 0===In&&$n.set(An.isProcessing||Xi.useManualTiming?An.timestamp:performance.now()),In),set:e=>{In=e,queueMicrotask(Dn)}},Ln=e=>t=>"string"==typeof t&&t.startsWith(e),Mn=Ln("--"),Vn=Ln("var(--"),Bn=e=>!!Vn(e)&&Un.test(e.split("/*")[0].trim()),Un=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fn={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Wn={...Fn,transform:e=>Yi(0,1,e)},qn={...Fn,default:1},Hn=e=>Math.round(1e5*e)/1e5,Kn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const zn=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gn=(e,t)=>s=>Boolean("string"==typeof s&&zn.test(s)&&s.startsWith(e)||t&&!function(e){return null==e}(s)&&Object.prototype.hasOwnProperty.call(s,t)),Jn=(e,t,s)=>r=>{if("string"!=typeof r)return r;const[i,n,o,a]=r.match(Kn);return{[e]:parseFloat(i),[t]:parseFloat(n),[s]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},Yn={...Fn,transform:e=>Math.round((e=>Yi(0,255,e))(e))},Xn={test:Gn("rgb","red"),parse:Jn("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+Yn.transform(e)+", "+Yn.transform(t)+", "+Yn.transform(s)+", "+Hn(Wn.transform(r))+")"};const Zn={test:Gn("#"),parse:function(e){let t="",s="",r="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Xn.transform},Qn=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),eo=Qn("deg"),to=Qn("%"),so=Qn("px"),ro=Qn("vh"),io=Qn("vw"),no=(()=>({...to,parse:e=>to.parse(e)/100,transform:e=>to.transform(100*e)}))(),oo={test:Gn("hsl","hue"),parse:Jn("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+to.transform(Hn(t))+", "+to.transform(Hn(s))+", "+Hn(Wn.transform(r))+")"},ao={test:e=>Xn.test(e)||Zn.test(e)||oo.test(e),parse:e=>Xn.test(e)?Xn.parse(e):oo.test(e)?oo.parse(e):Zn.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?Xn.transform(e):oo.transform(e),getAnimatableNone:e=>{const t=ao.parse(e);return t.alpha=0,ao.transform(t)}},lo=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const co="number",uo="color",ho=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function po(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},i=[];let n=0;const o=t.replace(ho,e=>(ao.test(e)?(r.color.push(n),i.push(uo),s.push(ao.parse(e))):e.startsWith("var(")?(r.var.push(n),i.push("var"),s.push(e)):(r.number.push(n),i.push(co),s.push(parseFloat(e))),++n,"${}")).split("${}");return{values:s,split:o,indexes:r,types:i}}function mo(e){return po(e).values}function fo(e){const{split:t,types:s}=po(e),r=t.length;return e=>{let i="";for(let n=0;n<r;n++)if(i+=t[n],void 0!==e[n]){const t=s[n];i+=t===co?Hn(e[n]):t===uo?ao.transform(e[n]):e[n]}return i}}const go=e=>"number"==typeof e?0:ao.test(e)?ao.getAnimatableNone(e):e;const yo={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(Kn)?.length||0)+(e.match(lo)?.length||0)>0},parse:mo,createTransformer:fo,getAnimatableNone:function(e){const t=mo(e);return fo(e)(t.map(go))}};function vo(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+6*(t-e)*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function wo(e,t){return s=>s>0?t:e}const bo=(e,t,s)=>e+(t-e)*s,xo=(e,t,s)=>{const r=e*e,i=s*(t*t-r)+r;return i<0?0:Math.sqrt(i)},jo=[Zn,Xn,oo];function _o(e){const t=(s=e,jo.find(e=>e.test(s)));var s;if(!Boolean(t))return!1;let r=t.parse(e);return t===oo&&(r=function({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,s/=100;let i=0,n=0,o=0;if(t/=100){const r=s<.5?s*(1+t):s+t-s*t,a=2*s-r;i=vo(a,r,e+1/3),n=vo(a,r,e),o=vo(a,r,e-1/3)}else i=n=o=s;return{red:Math.round(255*i),green:Math.round(255*n),blue:Math.round(255*o),alpha:r}}(r)),r}const So=(e,t)=>{const s=_o(e),r=_o(t);if(!s||!r)return wo(e,t);const i={...s};return e=>(i.red=xo(s.red,r.red,e),i.green=xo(s.green,r.green,e),i.blue=xo(s.blue,r.blue,e),i.alpha=bo(s.alpha,r.alpha,e),Xn.transform(i))},ko=new Set(["none","hidden"]);function To(e,t){return s=>bo(e,t,s)}function Eo(e){return"number"==typeof e?To:"string"==typeof e?Bn(e)?wo:ao.test(e)?So:Oo:Array.isArray(e)?Po:"object"==typeof e?ao.test(e)?So:Co:wo}function Po(e,t){const s=[...e],r=s.length,i=e.map((e,s)=>Eo(e)(e,t[s]));return e=>{for(let t=0;t<r;t++)s[t]=i[t](e);return s}}function Co(e,t){const s={...e,...t},r={};for(const i in s)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Eo(e[i])(e[i],t[i]));return e=>{for(const t in r)s[t]=r[t](e);return s}}const Oo=(e,t)=>{const s=yo.createTransformer(t),r=po(e),i=po(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ko.has(e)&&!i.values.length||ko.has(t)&&!r.values.length?function(e,t){return ko.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}(e,t):nn(Po(function(e,t){const s=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const n=t.types[i],o=e.indexes[n][r[n]],a=e.values[o]??0;s[i]=a,r[n]++}return s}(r,i),i.values),s):wo(e,t)};function No(e,t,s){if("number"==typeof e&&"number"==typeof t&&"number"==typeof s)return bo(e,t,s);return Eo(e)(e,t)}const Ao=e=>{const t=({timestamp:t})=>e(t);return{start:(e=!0)=>On.update(t,e),stop:()=>Nn(t),now:()=>An.isProcessing?An.timestamp:$n.now()}},Ro=(e,t,s=10)=>{let r="";const i=Math.max(Math.round(t/s),2);for(let n=0;n<i;n++)r+=Math.round(1e4*e(n/(i-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Io=2e4;function Do(e){let t=0;let s=e.next(t);for(;!s.done&&t<Io;)t+=50,s=e.next(t);return t>=Io?1/0:t}function $o(e,t,s){const r=Math.max(t-5,0);return un(s-e(r),t-r)}const Lo=100,Mo=10,Vo=1,Bo=0,Uo=800,Fo=.3,Wo=.3,qo={granular:.01,default:2},Ho={granular:.005,default:.5},Ko=.01,zo=10,Go=.05,Jo=1,Yo=.001;function Xo({duration:e=Uo,bounce:t=Fo,velocity:s=Bo,mass:r=Vo}){let i,n,o=1-t;o=Yi(Go,Jo,o),e=Yi(Ko,zo,cn(e)),o<1?(i=t=>{const r=t*o,i=r*e,n=r-s,a=Qo(t,o),l=Math.exp(-i);return Yo-n/a*l},n=t=>{const r=t*o*e,n=r*s+s,a=Math.pow(o,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=Qo(Math.pow(t,2),o);return(-i(t)+Yo>0?-1:1)*((n-a)*l)/c}):(i=t=>Math.exp(-t*e)*((t-s)*e+1)-.001,n=t=>Math.exp(-t*e)*(e*e*(s-t)));const a=function(e,t,s){let r=s;for(let i=1;i<Zo;i++)r-=e(r)/t(r);return r}(i,n,5/e);if(e=ln(e),isNaN(a))return{stiffness:Lo,damping:Mo,duration:e};{const t=Math.pow(a,2)*r;return{stiffness:t,damping:2*o*Math.sqrt(r*t),duration:e}}}const Zo=12;function Qo(e,t){return e*Math.sqrt(1-t*t)}const ea=["duration","bounce"],ta=["stiffness","damping","mass"];function sa(e,t){return t.some(t=>void 0!==e[t])}function ra(e=Wo,t=Fo){const s="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=s;const n=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],a={done:!1,value:n},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:p}=function(e){let t={velocity:Bo,stiffness:Lo,damping:Mo,mass:Vo,isResolvedFromDuration:!1,...e};if(!sa(e,ta)&&sa(e,ea))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(1.2*s),i=r*r,n=2*Yi(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Vo,stiffness:i,damping:n}}else{const s=Xo(e);t={...t,...s,mass:Vo},t.isResolvedFromDuration=!0}return t}({...s,velocity:-cn(s.velocity||0)}),m=d||0,f=c/(2*Math.sqrt(l*u)),g=o-n,y=cn(Math.sqrt(l/u)),v=Math.abs(g)<5;let w;if(r||(r=v?qo.granular:qo.default),i||(i=v?Ho.granular:Ho.default),f<1){const e=Qo(y,f);w=t=>{const s=Math.exp(-f*y*t);return o-s*((m+f*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===f)w=e=>o-Math.exp(-y*e)*(g+(m+y*g)*e);else{const e=y*Math.sqrt(f*f-1);w=t=>{const s=Math.exp(-f*y*t),r=Math.min(e*t,300);return o-s*((m+f*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const b={calculatedDuration:p&&h||null,next:e=>{const t=w(e);if(p)a.done=e>=h;else{let s=0===e?m:0;f<1&&(s=0===e?ln(m):$o(w,e,t));const n=Math.abs(s)<=r,l=Math.abs(o-t)<=i;a.done=n&&l}return a.value=a.done?o:t,a},toString:()=>{const e=Math.min(Do(b),Io),t=Ro(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function ia({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:n=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=e[0],d={done:!1,value:h},p=e=>void 0===a?l:void 0===l||Math.abs(a-e)<Math.abs(l-e)?a:l;let m=s*t;const f=h+m,g=void 0===o?f:o(f);g!==f&&(m=g-h);const y=e=>-m*Math.exp(-e/r),v=e=>g+y(e),w=e=>{const t=y(e),s=v(e);d.done=Math.abs(t)<=c,d.value=d.done?g:s};let b,x;const j=e=>{var t;(t=d.value,void 0!==a&&t<a||void 0!==l&&t>l)&&(b=e,x=ra({keyframes:[d.value,p(d.value)],velocity:$o(v,e,d.value),damping:i,stiffness:n,restDelta:c,restSpeed:u}))};return j(0),{calculatedDuration:null,next:e=>{let t=!1;return x||void 0!==b||(t=!0,w(e),j(e)),void 0!==b&&e>=b?x.next(e-b):(!t&&w(e),d)}}}function na(e,t,{clamp:s=!0,ease:r,mixer:i}={}){const n=e.length;if(t.length,1===n)return()=>t[0];if(2===n&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[n-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,s){const r=[],i=s||Xi.mix||No,n=e.length-1;for(let o=0;o<n;o++){let s=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||sn:t;s=nn(e,s)}r.push(s)}return r}(t,r,i),l=a.length,c=s=>{if(o&&s<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(s<e[r+1]);r++);const i=on(e[r],e[r+1],s);return a[r](i)};return s?t=>c(Yi(e[0],e[n-1],t)):c}function oa(e){const t=[0];return function(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const i=on(0,t,r);e.push(bo(s,1,i))}}(t,e.length-1),t}function aa({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const i=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(En):En(r),n={done:!1,value:t[0]},o=function(e,t){return e.map(e=>e*t)}(s&&s.length===t.length?s:oa(t),e),a=na(o,t,{ease:Array.isArray(i)?i:(l=t,c=i,l.map(()=>c||Sn).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(n.value=a(t),n.done=t>=e,n)}}ra.applyToOptions=e=>{const t=function(e,t=100,s){const r=s({...e,keyframes:[0,t]}),i=Math.min(Do(r),Io);return{type:"keyframes",ease:e=>r.next(i*e).value/t,duration:cn(i)}}(e,100,ra);return e.ease=t.ease,e.duration=ln(t.duration),e.type="keyframes",e};const la=e=>null!==e;function ca(e,{repeat:t,repeatType:s="loop"},r,i=1){const n=e.filter(la),o=i<0||t&&"loop"!==s&&t%2==1?0:n.length-1;return o&&void 0!==r?r:n[o]}const ua={decay:ia,inertia:ia,tween:aa,keyframes:aa,spring:ra};function ha(e){"string"==typeof e.type&&(e.type=ua[e.type])}class da{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const pa=e=>e/100;class ma extends da{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==$n.now()&&this.tick($n.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;ha(e);const{type:t=aa,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:n=0}=e;let{keyframes:o}=e;const a=t||aa;a!==aa&&"number"!=typeof o[0]&&(this.mixKeyframes=nn(pa,No(o[0],o[1])),o=[0,100]);const l=a({...e,keyframes:o});"mirror"===i&&(this.mirroredGenerator=a({...e,keyframes:[...o].reverse(),velocity:-n})),null===l.calculatedDuration&&(l.calculatedDuration=Do(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:n,resolvedDuration:o,calculatedDuration:a}=this;if(null===this.startTime)return s.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:h,repeatDelay:d,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let v=this.currentTime,w=s;if(u){const e=Math.min(this.currentTime,r)/o;let t=Math.floor(e),s=e%1;!s&&e>=1&&(s=1),1===s&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===h?(s=1-s,d&&(s-=d/o)):"mirror"===h&&(w=n)),v=Yi(0,1,s)*o}const b=y?{done:!1,value:c[0]}:w.next(v);i&&(b.value=i(b.value));let{done:x}=b;y||null===a||(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return j&&p!==ia&&(b.value=ca(c,this.options,f,this.speed)),m&&m(b.value),j&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return cn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+cn(e)}get time(){return cn(this.currentTime)}set time(e){e=ln(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime($n.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=cn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Ao,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();const s=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=s):null!==this.holdTime?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($n.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}const fa=e=>180*e/Math.PI,ga=e=>{const t=fa(Math.atan2(e[1],e[0]));return va(t)},ya={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ga,rotateZ:ga,skewX:e=>fa(Math.atan(e[1])),skewY:e=>fa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},va=e=>((e%=360)<0&&(e+=360),e),wa=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ba=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),xa={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:wa,scaleY:ba,scale:e=>(wa(e)+ba(e))/2,rotateX:e=>va(fa(Math.atan2(e[6],e[5]))),rotateY:e=>va(fa(Math.atan2(-e[2],e[0]))),rotateZ:ga,rotate:ga,skewX:e=>fa(Math.atan(e[4])),skewY:e=>fa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ja(e){return e.includes("scale")?1:0}function _a(e,t){if(!e||"none"===e)return ja(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(s)r=xa,i=s;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ya,i=t}if(!i)return ja(t);const n=r[t],o=i[1].split(",").map(Sa);return"function"==typeof n?n(o):o[n]}function Sa(e){return parseFloat(e.trim())}const ka=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ta=(()=>new Set(ka))(),Ea=e=>e===Fn||e===so,Pa=new Set(["x","y","z"]),Ca=ka.filter(e=>!Pa.has(e));const Oa={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>_a(t,"x"),y:(e,{transform:t})=>_a(t,"y")};Oa.translateX=Oa.x,Oa.translateY=Oa.y;const Na=new Set;let Aa=!1,Ra=!1,Ia=!1;function Da(){if(Ra){const e=Array.from(Na).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),s=new Map;t.forEach(e=>{const t=function(e){const t=[];return Ca.forEach(s=>{const r=e.getValue(s);void 0!==r&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}(e);t.length&&(s.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=s.get(e);t&&t.forEach(([t,s])=>{e.getValue(t)?.set(s)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}Ra=!1,Aa=!1,Na.forEach(e=>e.complete(Ia)),Na.clear()}function $a(){Na.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ra=!0)})}class La{constructor(e,t,s,r,i,n=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=r,this.element=i,this.isAsync=n}scheduleResolve(){this.state="scheduled",this.isAsync?(Na.add(this),Aa||(Aa=!0,On.read($a),On.resolveKeyframes(Da))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:r}=this;if(null===e[0]){const i=r?.get(),n=e[e.length-1];if(void 0!==i)e[0]=i;else if(s&&t){const r=s.readValue(t,n);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=n),r&&void 0===i&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Na.delete(this)}cancel(){"scheduled"===this.state&&(Na.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Ma=tn(()=>void 0!==window.ScrollTimeline),Va={};function Ba(e,t){const s=tn(e);return()=>Va[t]??s()}const Ua=Ba(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),Fa=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,Wa={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fa([0,.65,.55,1]),circOut:Fa([.55,0,1,.45]),backIn:Fa([.31,.01,.66,-.59]),backOut:Fa([.33,1.53,.69,.99])};function qa(e,t){return e?"function"==typeof e?Ua()?Ro(e,t):"ease-out":kn(e)?Fa(e):Array.isArray(e)?e.map(e=>qa(e,t)||Wa.easeOut):Wa[e]:void 0}function Ha(e,t,s,{delay:r=0,duration:i=300,repeat:n=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[t]:s};l&&(u.offset=l);const h=qa(a,i);Array.isArray(h)&&(u.easing=h);const d={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:n+1,direction:"reverse"===o?"alternate":"normal"};c&&(d.pseudoElement=c);return e.animate(u,d)}function Ka(e){return"function"==typeof e&&"applyToOptions"in e}class za extends da{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:s,keyframes:r,pseudoElement:i,allowFlatten:n=!1,finalKeyframe:o,onComplete:a}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=n,this.options=e,e.type;const l=function({type:e,...t}){return Ka(e)&&Ua()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=Ha(t,s,r,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=ca(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,s){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,s):e.style[t]=s}(t,s,e),this.animation.cancel()}a?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return cn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+cn(e)}get time(){return cn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ln(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Ma()?(this.animation.timeline=e,sn):t(this)}}const Ga={anticipate:vn,backInOut:yn,circInOut:xn};function Ja(e){"string"==typeof e.ease&&e.ease in Ga&&(e.ease=Ga[e.ease])}class Ya extends za{constructor(e){Ja(e),ha(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:s,onComplete:r,element:i,...n}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const o=new ma({...n,autoplay:!1}),a=ln(this.finishedTime??this.time);t.setWithVelocity(o.sample(a-10).value,o.sample(a).value,10),o.stop()}}const Xa=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!yo.test(e)&&"0"!==e||e.startsWith("url(")));function Za(e){e.duration=0,e.type="keyframes"}const Qa=new Set(["opacity","clipPath","filter","transform"]),el=tn(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class tl extends da{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:n="loop",keyframes:o,name:a,motionValue:l,element:c,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=$n.now();const h={autoplay:e,delay:t,type:s,repeat:r,repeatDelay:i,repeatType:n,name:a,motionValue:l,element:c,...u},d=c?.KeyframeResolver||La;this.keyframeResolver=new d(o,(e,t,s)=>this.onKeyframesResolved(e,t,h,!s),a,l,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,s,r){this.keyframeResolver=void 0;const{name:i,type:n,velocity:o,delay:a,isHandoff:l,onUpdate:c}=s;this.resolvedAt=$n.now(),function(e,t,s,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const n=e[e.length-1],o=Xa(i,t),a=Xa(n,t);return!(!o||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}(e)||("spring"===s||Ka(s))&&r)}(e,i,n,o)||(!Xi.instantAnimations&&a||c?.(ca(e,s,t)),e[0]=e[e.length-1],Za(s),s.repeat=0);const u={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:e},h=!l&&function(e){const{motionValue:t,name:s,repeatDelay:r,repeatType:i,damping:n,type:o}=e,a=t?.owner?.current;if(!(a instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return el()&&s&&Qa.has(s)&&("transform"!==s||!c)&&!l&&!r&&"mirror"!==i&&0!==n&&"inertia"!==o}(u)?new Ya({...u,element:u.motionValue.owner.current}):new ma(u);h.finished.then(()=>this.notifyFinished()).catch(sn),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Ia=!0,$a(),Da(),Ia=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const sl=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rl(e,t,s=1){const[r,i]=function(e){const t=sl.exec(e);if(!t)return[,];const[,s,r,i]=t;return[`--${s??r}`,i]}(e);if(!r)return;const n=window.getComputedStyle(t).getPropertyValue(r);if(n){const e=n.trim();return Zi(e)?parseFloat(e):e}return Bn(i)?rl(i,t,s+1):i}function il(e,t){return e?.[t]??e?.default??e}const nl=new Set(["width","height","top","left","right","bottom",...ka]),ol=e=>t=>t.test(e),al=[Fn,so,to,eo,io,ro,{test:e=>"auto"===e,parse:e=>e}],ll=e=>al.find(ol(e));function cl(e){return"number"==typeof e?0===e:null===e||("none"===e||"0"===e||en(e))}const ul=new Set(["brightness","contrast","saturate","opacity"]);function hl(e){const[t,s]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=s.match(Kn)||[];if(!r)return e;const i=s.replace(r,"");let n=ul.has(t)?1:0;return r!==s&&(n*=100),t+"("+n+i+")"}const dl=/\b([a-z-]*)\(.*?\)/gu,pl={...yo,getAnimatableNone:e=>{const t=e.match(dl);return t?t.map(hl).join(" "):e}},ml={...Fn,transform:Math.round},fl={borderWidth:so,borderTopWidth:so,borderRightWidth:so,borderBottomWidth:so,borderLeftWidth:so,borderRadius:so,radius:so,borderTopLeftRadius:so,borderTopRightRadius:so,borderBottomRightRadius:so,borderBottomLeftRadius:so,width:so,maxWidth:so,height:so,maxHeight:so,top:so,right:so,bottom:so,left:so,padding:so,paddingTop:so,paddingRight:so,paddingBottom:so,paddingLeft:so,margin:so,marginTop:so,marginRight:so,marginBottom:so,marginLeft:so,backgroundPositionX:so,backgroundPositionY:so,...{rotate:eo,rotateX:eo,rotateY:eo,rotateZ:eo,scale:qn,scaleX:qn,scaleY:qn,scaleZ:qn,skew:eo,skewX:eo,skewY:eo,distance:so,translateX:so,translateY:so,translateZ:so,x:so,y:so,z:so,perspective:so,transformPerspective:so,opacity:Wn,originX:no,originY:no,originZ:so},zIndex:ml,fillOpacity:Wn,strokeOpacity:Wn,numOctaves:ml},gl={...fl,color:ao,backgroundColor:ao,outlineColor:ao,fill:ao,stroke:ao,borderColor:ao,borderTopColor:ao,borderRightColor:ao,borderBottomColor:ao,borderLeftColor:ao,filter:pl,WebkitFilter:pl},yl=e=>gl[e];function vl(e,t){let s=yl(e);return s!==pl&&(s=yo),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const wl=new Set(["auto","none","0"]);class bl extends La{constructor(e,t,s,r,i){super(e,t,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let s=e[a];if("string"==typeof s&&(s=s.trim(),Bn(s))){const r=rl(s,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=s)}}if(this.resolveNoneKeyframes(),!nl.has(s)||2!==e.length)return;const[r,i]=e,n=ll(r),o=ll(i);if(n!==o)if(Ea(n)&&Ea(o))for(let a=0;a<e.length;a++){const t=e[a];"string"==typeof t&&(e[a]=parseFloat(t))}else Oa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let r=0;r<e.length;r++)(null===e[r]||cl(e[r]))&&s.push(r);s.length&&function(e,t,s){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"==typeof t&&!wl.has(t)&&po(t).values.length&&(r=e[i]),i++}if(r&&s)for(const n of t)e[n]=vl(s,r)}(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;"height"===s&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(s,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,n=s[i];s[i]=Oa[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==n&&void 0===this.finalKeyframe&&(this.finalKeyframe=n),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,s])=>{e.getValue(t).set(s)}),this.resolveNoneKeyframes()}}const xl=(e,t)=>t&&"number"==typeof e?t.transform(e):e;class jl{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=$n.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=$n.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new an);const s=this.events[e].add(t);return"change"===e?()=>{s(),On.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$n.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return un(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _l(e,t){return new jl(e,t)}const{schedule:Sl}=Cn(queueMicrotask,!1),kl={x:!1,y:!1};function Tl(){return kl.x||kl.y}function El(e,t){const s=function(e,t,s){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document;const r=s?.[e]??t.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}(e),r=new AbortController;return[s,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Pl(e){return!("touch"===e.pointerType||Tl())}const Cl=(e,t)=>!!t&&(e===t||Cl(e,t.parentElement)),Ol=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,Nl=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Al=new WeakSet;function Rl(e){return t=>{"Enter"===t.key&&e(t)}}function Il(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Dl(e){return Ol(e)&&!Tl()}function $l(e,t,s={}){const[r,i,n]=El(e,s),o=e=>{const r=e.currentTarget;if(!Dl(e))return;Al.add(r);const n=t(r,e),o=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),Al.has(r)&&Al.delete(r),Dl(e)&&"function"==typeof n&&n(e,{success:t})},a=e=>{o(e,r===window||r===document||s.useGlobalTarget||Cl(r,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{var t;(s.useGlobalTarget?window:e).addEventListener("pointerdown",o,i),Qi(t=e)&&"offsetHeight"in t&&(e.addEventListener("focus",e=>((e,t)=>{const s=e.currentTarget;if(!s)return;const r=Rl(()=>{if(Al.has(s))return;Il(s,"down");const e=Rl(()=>{Il(s,"up")});s.addEventListener("keyup",e,t),s.addEventListener("blur",()=>Il(s,"cancel"),t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)})(e,i)),function(e){return Nl.has(e.tagName)||-1!==e.tabIndex}(e)||e.hasAttribute("tabindex")||(e.tabIndex=0))}),n}function Ll(e){return Qi(e)&&"ownerSVGElement"in e}const Ml=e=>Boolean(e&&e.getVelocity),Vl=[...al,ao,yo],Bl=t.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});const Ul=t.createContext({strict:!1}),Fl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wl={};for(const Xd in Fl)Wl[Xd]={isEnabled:e=>Fl[Xd].some(t=>!!e[t])};const ql=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hl(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ql.has(e)}let Kl=e=>!Hl(e);try{"function"==typeof(zl=require("@emotion/is-prop-valid").default)&&(Kl=e=>e.startsWith("on")?!Hl(e):zl(e))}catch{}var zl;const Gl=t.createContext({});function Jl(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function Yl(e){return"string"==typeof e||Array.isArray(e)}const Xl=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zl=["initial",...Xl];function Ql(e){return Jl(e.animate)||Zl.some(t=>Yl(e[t]))}function ec(e){return Boolean(Ql(e)||e.variants)}function tc(e){const{initial:s,animate:r}=function(e,t){if(Ql(e)){const{initial:t,animate:s}=e;return{initial:!1===t||Yl(t)?t:void 0,animate:Yl(s)?s:void 0}}return!1!==e.inherit?t:{}}(e,t.useContext(Gl));return t.useMemo(()=>({initial:s,animate:r}),[sc(s),sc(r)])}function sc(e){return Array.isArray(e)?e.join(" "):e}const rc={};function ic(e,{layout:t,layoutId:s}){return Ta.has(e)||e.startsWith("origin")||(t||void 0!==s)&&(!!rc[e]||"opacity"===e)}const nc={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oc=ka.length;function ac(e,t,s){const{style:r,vars:i,transformOrigin:n}=e;let o=!1,a=!1;for(const l in t){const e=t[l];if(Ta.has(l))o=!0;else if(Mn(l))i[l]=e;else{const t=xl(e,fl[l]);l.startsWith("origin")?(a=!0,n[l]=t):r[l]=t}}if(t.transform||(o||s?r.transform=function(e,t,s){let r="",i=!0;for(let n=0;n<oc;n++){const o=ka[n],a=e[o];if(void 0===a)continue;let l=!0;if(l="number"==typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!l||s){const e=xl(a,fl[o]);l||(i=!1,r+=`${nc[o]||o}(${e}) `),s&&(t[o]=e)}}return r=r.trim(),s?r=s(t,i?"":r):i&&(r="none"),r}(t,e.transform,s):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:s=0}=n;r.transformOrigin=`${e} ${t} ${s}`}}const lc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cc(e,t,s){for(const r in t)Ml(t[r])||ic(r,s)||(e[r]=t[r])}function uc(e,s){const r={};return cc(r,e.style||{},e),Object.assign(r,function({transformTemplate:e},s){return t.useMemo(()=>{const t={style:{},transform:{},transformOrigin:{},vars:{}};return ac(t,s,e),Object.assign({},t.vars,t.style)},[s])}(e,s)),r}function hc(e,t){const s={},r=uc(e,t);return e.drag&&!1!==e.dragListener&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const dc={offset:"stroke-dashoffset",array:"stroke-dasharray"},pc={offset:"strokeDashoffset",array:"strokeDasharray"};function mc(e,{attrX:t,attrY:s,attrScale:r,pathLength:i,pathSpacing:n=1,pathOffset:o=0,...a},l,c,u){if(ac(e,a,c),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:d}=e;h.transform&&(d.transform=h.transform,delete h.transform),(d.transform||h.transformOrigin)&&(d.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),d.transform&&(d.transformBox=u?.transformBox??"fill-box",delete h.transformBox),void 0!==t&&(h.x=t),void 0!==s&&(h.y=s),void 0!==r&&(h.scale=r),void 0!==i&&function(e,t,s=1,r=0,i=!0){e.pathLength=1;const n=i?dc:pc;e[n.offset]=so.transform(-r);const o=so.transform(t),a=so.transform(s);e[n.array]=`${o} ${a}`}(h,i,n,o,!1)}const fc=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),gc=e=>"string"==typeof e&&"svg"===e.toLowerCase();function yc(e,s,r,i){const n=t.useMemo(()=>{const t={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return mc(t,s,gc(i),e.transformTemplate,e.style),{...t.attrs,style:{...t.style}}},[s]);if(e.style){const t={};cc(t,e.style,e),n.style={...t,...n.style}}return n}const vc=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wc(e){return"string"==typeof e&&!e.includes("-")&&!!(vc.indexOf(e)>-1||/[A-Z]/u.test(e))}function bc(e,s,r,{latestValues:i},n,o=!1){const a=(wc(e)?yc:hc)(s,i,n,e),l=function(e,t,s){const r={};for(const i in e)"values"===i&&"object"==typeof e.values||(Kl(i)||!0===s&&Hl(i)||!t&&!Hl(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(s,"string"==typeof e,o),c=e!==t.Fragment?{...l,...a,ref:r}:{},{children:u}=s,h=t.useMemo(()=>Ml(u)?u.get():u,[u]);return t.createElement(e,{...c,children:h})}function xc(e){const t=[{},{}];return e?.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function jc(e,t,s,r){if("function"==typeof t){const[i,n]=xc(r);t=t(void 0!==s?s:e.custom,i,n)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[i,n]=xc(r);t=t(void 0!==s?s:e.custom,i,n)}return t}function _c(e){return Ml(e)?e.get():e}function Sc(e,t,s,r){const i={},n=r(e,{});for(const d in n)i[d]=_c(n[d]);let{initial:o,animate:a}=e;const l=Ql(e),c=ec(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let u=!!s&&!1===s.initial;u=u||!1===o;const h=u?a:o;if(h&&"boolean"!=typeof h&&!Jl(h)){const t=Array.isArray(h)?h:[h];for(let s=0;s<t.length;s++){const r=jc(e,t[s]);if(r){const{transitionEnd:e,transition:t,...s}=r;for(const r in s){let e=s[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const kc=e=>(s,r)=>{const i=t.useContext(Gl),n=t.useContext(zi),o=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t},s,r,i){return{latestValues:Sc(s,r,i,e),renderState:t()}}(e,s,i,n);return r?o():function(e){const s=t.useRef(null);return null===s.current&&(s.current=e()),s.current}(o)};function Tc(e,t,s){const{style:r}=e,i={};for(const n in r)(Ml(r[n])||t.style&&Ml(t.style[n])||ic(n,e)||void 0!==s?.getValue(n)?.liveStyle)&&(i[n]=r[n]);return i}const Ec=kc({scrapeMotionValuesFromProps:Tc,createRenderState:lc});function Pc(e,t,s){const r=Tc(e,t,s);for(const i in e)if(Ml(e[i])||Ml(t[i])){r[-1!==ka.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const Cc=kc({scrapeMotionValuesFromProps:Pc,createRenderState:fc}),Oc=Symbol.for("motionComponentSymbol");function Nc(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Ac(e,s,r){return t.useCallback(t=>{t&&e.onMount&&e.onMount(t),s&&(t?s.mount(t):s.unmount()),r&&("function"==typeof r?r(t):Nc(r)&&(r.current=t))},[s])}const Rc=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ic="data-"+Rc("framerAppearId"),Dc=t.createContext({});function $c(e,s,r,i,n){const{visualElement:o}=t.useContext(Gl),a=t.useContext(Ul),l=t.useContext(zi),c=t.useContext(Bl).reducedMotion,u=t.useRef(null);i=i||a.renderer,!u.current&&i&&(u.current=i(e,{visualState:s,parent:o,props:r,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:c}));const h=u.current,d=t.useContext(Dc);!h||h.projection||!n||"html"!==h.type&&"svg"!==h.type||function(e,t,s,r){const{layoutId:i,layout:n,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:Lc(e.parent)),e.projection.setOptions({layoutId:i,layout:n,alwaysMeasureLayout:Boolean(o)||a&&Nc(a),visualElement:e,animationType:"string"==typeof n?n:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(u.current,r,n,d);const p=t.useRef(!1);t.useInsertionEffect(()=>{h&&p.current&&h.update(r,l)});const m=r[Ic],f=t.useRef(Boolean(m)&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return Ki(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),f.current&&h.animationState&&h.animationState.animateChanges())}),t.useEffect(()=>{h&&(!f.current&&h.animationState&&h.animationState.animateChanges(),f.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),f.current=!1),h.enteringChildren=void 0)}),h}function Lc(e){if(e)return!1!==e.options.allowProjection?e.projection:Lc(e.parent)}function Mc(s,{forwardMotionProps:r=!1}={},i,n){i&&function(e){for(const t in e)Wl[t]={...Wl[t],...e[t]}}(i);const o=wc(s)?Cc:Ec;function a(i,a){let l;const c={...t.useContext(Bl),...i,layoutId:Vc(i)},{isStatic:u}=c,h=tc(i),d=o(i,u);if(!u&&Hi){t.useContext(Ul).strict;const e=function(e){const{drag:t,layout:s}=Wl;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(c);l=e.MeasureLayout,h.visualElement=$c(s,d,c,n,e.ProjectionNode)}return e.jsxs(Gl.Provider,{value:h,children:[l&&h.visualElement?e.jsx(l,{visualElement:h.visualElement,...c}):null,bc(s,i,Ac(d,h.visualElement,a),d,u,r)]})}a.displayName=`motion.${"string"==typeof s?s:`create(${s.displayName??s.name??""})`}`;const l=t.forwardRef(a);return l[Oc]=s,l}function Vc({layoutId:e}){const s=t.useContext(qi).id;return s&&void 0!==e?s+"-"+e:e}function Bc(e,t){if("undefined"==typeof Proxy)return Mc;const s=new Map,r=(s,r)=>Mc(s,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,n)=>"create"===n?r:(s.has(n)||s.set(n,Mc(n,void 0,e,t)),s.get(n))})}function Uc({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function Fc(e){return void 0===e||1===e}function Wc({scale:e,scaleX:t,scaleY:s}){return!Fc(e)||!Fc(t)||!Fc(s)}function qc(e){return Wc(e)||Hc(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Hc(e){return Kc(e.x)||Kc(e.y)}function Kc(e){return e&&"0%"!==e}function zc(e,t,s){return s+t*(e-s)}function Gc(e,t,s,r,i){return void 0!==i&&(e=zc(e,i,r)),zc(e,s,r)+t}function Jc(e,t=0,s=1,r,i){e.min=Gc(e.min,t,s,r,i),e.max=Gc(e.max,t,s,r,i)}function Yc(e,{x:t,y:s}){Jc(e.x,t.translate,t.scale,t.originPoint),Jc(e.y,s.translate,s.scale,s.originPoint)}const Xc=.999999999999,Zc=1.0000000000001;function Qc(e,t){e.min=e.min+t,e.max=e.max+t}function eu(e,t,s,r,i=.5){Jc(e,t,s,bo(e.min,e.max,i),r)}function tu(e,t){eu(e.x,t.x,t.scaleX,t.scale,t.originX),eu(e.y,t.y,t.scaleY,t.scale,t.originY)}function su(e,t){return Uc(function(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const ru=()=>({x:{min:0,max:0},y:{min:0,max:0}}),iu={current:null},nu={current:!1};const ou=new WeakMap;const au=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lu{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:n},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=La,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=$n.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,On.render(this.render,!1,!0))};const{latestValues:a,renderState:l}=n;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=Ql(t),this.isVariantNode=ec(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(const h in u){const e=u[h];void 0!==a[h]&&Ml(e)&&e.set(a[h])}}mount(e){this.current=e,ou.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),nu.current||function(){if(nu.current=!0,Hi)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>iu.current=e.matches;e.addEventListener("change",t),t()}else iu.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||iu.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Nn(this.notifyUpdate),Nn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ta.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&On.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Wl){const t=Wl[e];if(!t)continue;const{isEnabled:s,Feature:r}=t;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<au.length;s++){const t=au[s];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,s){for(const r in t){const i=t[r],n=s[r];if(Ml(i))e.addValue(r,i);else if(Ml(n))e.addValue(r,_l(i,{owner:e}));else if(n!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,_l(void 0!==t?t:i,{owner:e}))}}for(const r in s)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return void 0===s&&void 0!==t&&(s=_l(null===t?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){let s=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return null!=s&&("string"==typeof s&&(Zi(s)||en(s))?s=parseFloat(s):(r=s,!Vl.find(ol(r))&&yo.test(t)&&(s=vl(e,t))),this.setBaseTarget(e,Ml(s)?s.get():s)),Ml(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let s;if("string"==typeof t||"object"==typeof t){const r=jc(this.props,t,this.presenceContext?.custom);r&&(s=r[e])}if(t&&void 0!==s)return s;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||Ml(r)?void 0!==this.initialValues[e]&&void 0===s?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new an),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Sl.render(this.render)}}class cu extends lu{constructor(){super(...arguments),this.KeyframeResolver=bl}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ml(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function uu(e,{style:t,vars:s},r,i){const n=e.style;let o;for(o in t)n[o]=t[o];for(o in i?.applyProjectionStyles(n,r),s)n.setProperty(o,s[o])}class hu extends cu{constructor(){super(...arguments),this.type="html",this.renderInstance=uu}readValueFromInstance(e,t){if(Ta.has(t))return this.projection?.isProjecting?ja(t):((e,t)=>{const{transform:s="none"}=getComputedStyle(e);return _a(s,t)})(e,t);{const r=(s=e,window.getComputedStyle(s)),i=(Mn(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof i?i.trim():i}var s}measureInstanceViewportBox(e,{transformPagePoint:t}){return su(e,t)}build(e,t,s){ac(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return Tc(e,t,s)}}const du=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class pu extends cu{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ru}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ta.has(t)){const e=yl(t);return e&&e.default||0}return t=du.has(t)?t:Rc(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return Pc(e,t,s)}build(e,t,s){mc(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,r){!function(e,t,s,r){uu(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(du.has(i)?i:Rc(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=gc(e.tagName),super.mount(e)}}const mu=(e,s)=>wc(e)?new pu(s):new hu(s,{allowProjection:e!==t.Fragment});function fu(e,t,s){const r=e.getProps();return jc(r,t,void 0!==s?s:r.custom,e)}const gu=e=>Array.isArray(e);function yu(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,_l(s))}function vu(e){return gu(e)?e[e.length-1]||0:e}function wu(e,t){const s=e.getValue("willChange");if(r=s,Boolean(Ml(r)&&r.add))return s.add(t);if(!s&&Xi.WillChange){const s=new Xi.WillChange("auto");e.addValue("willChange",s),s.add(t)}var r}function bu(e){return e.props[Ic]}const xu=e=>null!==e;const ju={type:"spring",stiffness:500,damping:25,restSpeed:10},_u={type:"keyframes",duration:.8},Su={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ku=(e,{keyframes:t})=>t.length>2?_u:Ta.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:ju:Su;const Tu=(e,t,s,r={},i,n)=>o=>{const a=il(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c-=ln(l);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:n?void 0:i};(function({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:n,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length})(a)||Object.assign(u,ku(e,u)),u.duration&&(u.duration=ln(u.duration)),u.repeatDelay&&(u.repeatDelay=ln(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let h=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(Za(u),0===u.delay&&(h=!0)),(Xi.instantAnimations||Xi.skipAnimations)&&(h=!0,Za(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,h&&!n&&void 0!==t.get()){const e=function(e,{repeat:t,repeatType:s="loop"}){const r=e.filter(xu);return r[t&&"loop"!==s&&t%2==1?0:r.length-1]}(u.keyframes,a);if(void 0!==e)return void On.update(()=>{u.onUpdate(e),u.onComplete()})}return a.isSync?new ma(u):new tl(u)};function Eu({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&!0!==t[s];return t[s]=!1,r}function Pu(e,t,{delay:s=0,transitionOverride:r,type:i}={}){let{transition:n=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(n=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const u in a){const t=e.getValue(u,e.latestValues[u]??null),r=a[u];if(void 0===r||c&&Eu(c,u))continue;const i={delay:s,...il(n||{},u)},o=t.get();if(void 0!==o&&!t.isAnimating&&!Array.isArray(r)&&r===o&&!i.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){const t=bu(e);if(t){const e=window.MotionHandoffAnimation(t,u,On);null!==e&&(i.startTime=e,h=!0)}}wu(e,u),t.start(Tu(u,t,r,e.shouldReduceMotion&&nl.has(u)?{type:!1}:i,e,h));const d=t.animation;d&&l.push(d)}return o&&Promise.all(l).then(()=>{On.update(()=>{o&&function(e,t){const s=fu(e,t);let{transitionEnd:r={},transition:i={},...n}=s||{};n={...n,...r};for(const o in n)yu(e,o,vu(n[o]))}(e,o)})}),l}function Cu(e,t,s,r=0,i=1){const n=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),o=e.size,a=(o-1)*r;return"function"==typeof s?s(n,o):1===i?n*r:a-n*r}function Ou(e,t,s={}){const r=fu(e,t,"exit"===s.type?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(i=s.transitionOverride);const n=r?()=>Promise.all(Pu(e,r,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:n=0,staggerChildren:o,staggerDirection:a}=i;return function(e,t,s=0,r=0,i=0,n=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Ou(l,t,{...o,delay:s+("function"==typeof r?0:r)+Cu(e.variantChildren,l,r,i,n)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}(e,t,r,n,o,a,s)}:()=>Promise.resolve(),{when:a}=i;if(a){const[e,t]="beforeChildren"===a?[n,o]:[o,n];return e().then(()=>t())}return Promise.all([n(),o(s.delay)])}function Nu(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}const Au=Zl.length;function Ru(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Ru(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let s=0;s<Au;s++){const r=Zl[s],i=e.props[r];(Yl(i)||!1===i)&&(t[r]=i)}return t}const Iu=[...Xl].reverse(),Du=Xl.length;function $u(e){return t=>Promise.all(t.map(({animation:t,options:s})=>function(e,t,s={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>Ou(e,t,s));r=Promise.all(i)}else if("string"==typeof t)r=Ou(e,t,s);else{const i="function"==typeof t?fu(e,t,s.custom):t;r=Promise.all(Pu(e,i,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}(e,t,s)))}function Lu(e){let t=$u(e),s=Bu(),r=!0;const i=t=>(s,r)=>{const i=fu(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(i){const{transition:e,transitionEnd:t,...r}=i;s={...s,...r,...t}}return s};function n(n){const{props:o}=e,a=Ru(e.parent)||{},l=[],c=new Set;let u={},h=1/0;for(let t=0;t<Du;t++){const d=Iu[t],p=s[d],m=void 0!==o[d]?o[d]:a[d],f=Yl(m),g=d===n?p.isActive:null;!1===g&&(h=t);let y=m===a[d]&&m!==o[d]&&f;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys={...u},!p.isActive&&null===g||!m&&!p.prevProp||Jl(m)||"boolean"==typeof m)continue;const v=Mu(p.prevProp,m);let w=v||d===n&&p.isActive&&!y&&f||t>h&&f,b=!1;const x=Array.isArray(m)?m:[m];let j=x.reduce(i(d),{});!1===g&&(j={});const{prevResolvedValues:_={}}=p,S={..._,...j},k=t=>{w=!0,c.has(t)&&(b=!0,c.delete(t)),p.needsAnimating[t]=!0;const s=e.getValue(t);s&&(s.liveStyle=!1)};for(const e in S){const t=j[e],s=_[e];if(u.hasOwnProperty(e))continue;let r=!1;r=gu(t)&&gu(s)?!Nu(t,s):t!==s,r?null!=t?k(e):c.add(e):void 0!==t&&c.has(e)?k(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=j,p.isActive&&(u={...u,...j}),r&&e.blockInitialAnimation&&(w=!1);const T=y&&v;w&&(!T||b)&&l.push(...x.map(t=>{const s={type:d};if("string"==typeof t&&r&&!T&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,i=fu(r,t);if(r.enteringChildren&&i){const{delayChildren:t}=i.transition||{};s.delay=Cu(r.enteringChildren,e,t)}}return{animation:t,options:s}}))}if(c.size){const t={};if("boolean"!=typeof o.initial){const s=fu(e,Array.isArray(o.initial)?o.initial[0]:o.initial);s&&s.transition&&(t.transition=s.transition)}c.forEach(s=>{const r=e.getBaseTarget(s),i=e.getValue(s);i&&(i.liveStyle=!0),t[s]=r??null}),l.push({animation:t})}let d=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(d=!1),r=!1,d?t(l):Promise.resolve()}return{animateChanges:n,setActive:function(t,r){if(s[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,r)),s[t].isActive=r;const i=n(t);for(const e in s)s[e].protectedKeys={};return i},setAnimateFunction:function(s){t=s(e)},getState:()=>s,reset:()=>{s=Bu()}}}function Mu(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!Nu(t,e)}function Vu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bu(){return{animate:Vu(!0),whileInView:Vu(),whileHover:Vu(),whileTap:Vu(),whileDrag:Vu(),whileFocus:Vu(),exit:Vu()}}class Uu{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Fu=0;const Wu={animation:{Feature:class extends Uu{constructor(e){super(e),e.animationState||(e.animationState=Lu(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends Uu{constructor(){super(...arguments),this.id=Fu++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function qu(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function Hu(e){return{point:{x:e.pageX,y:e.pageY}}}function Ku(e,t,s,r){return qu(e,t,(e=>t=>Ol(t)&&e(t,Hu(t)))(s),r)}function zu(e){return e.max-e.min}function Gu(e,t,s,r=.5){e.origin=r,e.originPoint=bo(t.min,t.max,e.origin),e.scale=zu(s)/zu(t),e.translate=bo(s.min,s.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Ju(e,t,s,r){Gu(e.x,t.x,s.x,r?r.originX:void 0),Gu(e.y,t.y,s.y,r?r.originY:void 0)}function Yu(e,t,s){e.min=s.min+t.min,e.max=e.min+zu(t)}function Xu(e,t,s){e.min=t.min-s.min,e.max=e.min+zu(t)}function Zu(e,t,s){Xu(e.x,t.x,s.x),Xu(e.y,t.y,s.y)}function Qu(e){return[e("x"),e("y")]}const eh=({current:e})=>e?e.ownerDocument.defaultView:null,th=(e,t)=>Math.abs(e-t);class sh{constructor(e,t,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:n=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=nh(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,s=function(e,t){const s=th(e.x,t.x),r=th(e.y,t.y);return Math.sqrt(s**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!s)return;const{point:r}=e,{timestamp:i}=An;this.history.push({...r,timestamp:i});const{onStart:n,onMove:o}=this.handlers;t||(n&&n(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=rh(t,this.transformPagePoint),On.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:s,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const n=nh("pointercancel"===e.type?this.lastMoveEventInfo:rh(t,this.transformPagePoint),this.history);this.startEvent&&s&&s(e,n),r&&r(e,n)},!Ol(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=n,this.contextWindow=r||window;const o=rh(Hu(e),this.transformPagePoint),{point:a}=o,{timestamp:l}=An;this.history=[{...a,timestamp:l}];const{onSessionStart:c}=t;c&&c(e,nh(o,this.history)),this.removeListeners=nn(Ku(this.contextWindow,"pointermove",this.handlePointerMove),Ku(this.contextWindow,"pointerup",this.handlePointerUp),Ku(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nn(this.updatePoint)}}function rh(e,t){return t?{point:t(e.point)}:e}function ih(e,t){return{x:e.x-t.x,y:e.y-t.y}}function nh({point:e},t){return{point:e,delta:ih(e,ah(t)),offset:ih(e,oh(t)),velocity:lh(t,.1)}}function oh(e){return e[0]}function ah(e){return e[e.length-1]}function lh(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const i=ah(e);for(;s>=0&&(r=e[s],!(i.timestamp-r.timestamp>ln(t)));)s--;if(!r)return{x:0,y:0};const n=cn(i.timestamp-r.timestamp);if(0===n)return{x:0,y:0};const o={x:(i.x-r.x)/n,y:(i.y-r.y)/n};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ch(e,t,s){return{min:void 0!==t?e.min+t:void 0,max:void 0!==s?e.max+s-(e.max-e.min):void 0}}function uh(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}const hh=.35;function dh(e,t,s){return{min:ph(e,t),max:ph(e,s)}}function ph(e,t){return"number"==typeof e?e:e[t]||0}const mh=new WeakMap;class fh{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new sh(e,{onSessionStart:e=>{const{dragSnapToOrigin:s}=this.getProps();s?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Hu(e).point)},onStart:(e,t)=>{const{drag:s,dragPropagation:r,onDragStart:i}=this.getProps();if(s&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(n=s)||"y"===n?kl[n]?null:(kl[n]=!0,()=>{kl[n]=!1}):kl.x||kl.y?null:(kl.x=kl.y=!0,()=>{kl.x=kl.y=!1}),!this.openDragLock))return;var n;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qu(e=>{let t=this.getAxisMotionValue(e).get()||0;if(to.test(t)){const{projection:s}=this.visualElement;if(s&&s.layout){const r=s.layout.layoutBox[e];if(r){t=zu(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&On.postRender(()=>i(e,t)),wu(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:s,dragDirectionLock:r,onDirectionLock:i,onDrag:n}=this.getProps();if(!s&&!this.openDragLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let s=null;Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x");return s}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),n&&n(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>Qu(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,distanceThreshold:s,contextWindow:eh(this.visualElement)})}stop(e,t){const s=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!s)return;const{velocity:n}=r;this.startAnimation(n);const{onDragEnd:o}=this.getProps();o&&On.postRender(()=>o(s,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:r}=this.getProps();if(!s||!gh(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let n=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(n=function(e,{min:t,max:s},r){return void 0!==t&&e<t?e=r?bo(t,e,r.min):Math.max(e,t):void 0!==s&&e>s&&(e=r?bo(s,e,r.max):Math.min(e,s)),e}(n,this.constraints[e],this.elastic[e])),i.set(n)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Nc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!s)&&function(e,{top:t,left:s,bottom:r,right:i}){return{x:ch(e.x,s,i),y:ch(e.y,t,r)}}(s.layoutBox,e),this.elastic=function(e=hh){return!1===e?e=0:!0===e&&(e=hh),{x:dh(e,"left","right"),y:dh(e,"top","bottom")}}(t),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qu(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const s={};return void 0!==t.min&&(s.min=t.min-e.min),void 0!==t.max&&(s.max=t.max-e.min),s}(s.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Nc(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,s){const r=su(e,s),{scroll:i}=t;return i&&(Qc(r.x,i.offset.x),Qc(r.y,i.offset.y)),r}(s,r.root,this.visualElement.getTransformPagePoint());let n=function(e,t){return{x:uh(e.x,t.x),y:uh(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(n));this.hasMutatedConstraints=!!e,e&&(n=Uc(e))}return n}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:n,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=Qu(o=>{if(!gh(o,t,this.currentDirection))return;let l=a&&a[o]||{};n&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h={type:"inertia",velocity:s?e[o]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(o,h)});return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return wu(this.visualElement,e),s.start(Tu(e,s,0,t,this.visualElement,!1))}stopAnimation(){Qu(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qu(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[t];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Qu(t=>{const{drag:s}=this.getProps();if(!gh(t,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:s,max:n}=r.layout.layoutBox[t];i.set(e[t]-bo(s,n,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!Nc(t)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Qu(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const s=t.get();r[e]=function(e,t){let s=.5;const r=zu(e),i=zu(t);return i>r?s=on(t.min,t.max-r,e.min):r>i&&(s=on(e.min,e.max-i,t.min)),Yi(0,1,s)}({min:s,max:s},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Qu(t=>{if(!gh(t,e,null))return;const s=this.getAxisMotionValue(t),{min:i,max:n}=this.constraints[t];s.set(bo(i,n,r[t]))})}addListeners(){if(!this.visualElement.current)return;mh.set(this.visualElement,this);const e=Ku(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:s=!0}=this.getProps();t&&s&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Nc(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",t);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),On.read(t);const i=qu(window,"resize",()=>this.scalePositionWithinConstraints()),n=s.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(Qu(t=>{const s=this.getAxisMotionValue(t);s&&(this.originPoint[t]+=e[t].translate,s.set(s.get()+e[t].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),n&&n()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:n=hh,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:n,dragMomentum:o}}}function gh(e,t,s){return!(!0!==t&&t!==e||null!==s&&s!==e)}const yh=e=>(t,s)=>{e&&On.postRender(()=>e(t,s))};const vh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wh(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bh={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!so.test(e))return e;e=parseFloat(e)}return`${wh(e,t.target.x)}% ${wh(e,t.target.y)}%`}},xh={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,i=yo.parse(e);if(i.length>5)return r;const n=yo.createTransformer(e),o="number"!=typeof i[0]?1:0,a=s.x.scale*t.x,l=s.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=bo(a,l,.5);return"number"==typeof i[2+o]&&(i[2+o]/=c),"number"==typeof i[3+o]&&(i[3+o]/=c),n(i)}};let jh=!1;class _h extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)rc[t]=e[t],Mn(t)&&(rc[t].isCSSVariable=!0)}(kh),i&&(t.group&&t.group.add(i),s&&s.register&&r&&s.register(i),jh&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),vh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:r,isPresent:i}=this.props,{projection:n}=s;return n?(n.isPresent=i,jh=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?n.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?n.promote():n.relegate()||On.postRender(()=>{const e=n.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Sl.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:r}=e;jh=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Sh(s){const[r,i]=function(e=!0){const s=t.useContext(zi);if(null===s)return[!0,null];const{isPresent:r,onExitComplete:i,register:n}=s,o=t.useId();t.useEffect(()=>{if(e)return n(o)},[e]);const a=t.useCallback(()=>e&&i&&i(o),[o,i,e]);return!r&&i?[!1,a]:[!0]}(),n=t.useContext(qi);return e.jsx(_h,{...s,layoutGroup:n,switchLayoutGroup:t.useContext(Dc),isPresent:r,safeToRemove:i})}const kh={borderRadius:{...bh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bh,borderTopRightRadius:bh,borderBottomLeftRadius:bh,borderBottomRightRadius:bh,boxShadow:xh};const Th=(e,t)=>e.depth-t.depth;class Eh{constructor(){this.children=[],this.isDirty=!1}add(e){Gi(this.children,e),this.isDirty=!0}remove(e){Ji(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Th),this.isDirty=!1,this.children.forEach(e)}}const Ph=["TopLeft","TopRight","BottomLeft","BottomRight"],Ch=Ph.length,Oh=e=>"string"==typeof e?parseFloat(e):e,Nh=e=>"number"==typeof e||so.test(e);function Ah(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Rh=Dh(0,.5,bn),Ih=Dh(.5,.95,sn);function Dh(e,t,s){return r=>r<e?0:r>t?1:s(on(e,t,r))}function $h(e,t){e.min=t.min,e.max=t.max}function Lh(e,t){$h(e.x,t.x),$h(e.y,t.y)}function Mh(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Vh(e,t,s,r,i){return e=zc(e-=t,1/s,r),void 0!==i&&(e=zc(e,1/i,r)),e}function Bh(e,t,[s,r,i],n,o){!function(e,t=0,s=1,r=.5,i,n=e,o=e){to.test(t)&&(t=parseFloat(t),t=bo(o.min,o.max,t/100)-o.min);if("number"!=typeof t)return;let a=bo(n.min,n.max,r);e===n&&(a-=t),e.min=Vh(e.min,t,s,a,i),e.max=Vh(e.max,t,s,a,i)}(e,t[s],t[r],t[i],t.scale,n,o)}const Uh=["x","scaleX","originX"],Fh=["y","scaleY","originY"];function Wh(e,t,s,r){Bh(e.x,t,Uh,s?s.x:void 0,r?r.x:void 0),Bh(e.y,t,Fh,s?s.y:void 0,r?r.y:void 0)}function qh(e){return 0===e.translate&&1===e.scale}function Hh(e){return qh(e.x)&&qh(e.y)}function Kh(e,t){return e.min===t.min&&e.max===t.max}function zh(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Gh(e,t){return zh(e.x,t.x)&&zh(e.y,t.y)}function Jh(e){return zu(e.x)/zu(e.y)}function Yh(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Xh{constructor(){this.members=[]}add(e){Gi(this.members,e),e.scheduleRender()}remove(e){if(Ji(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let s;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){s=e;break}}return!!s&&(this.promote(s),!0)}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Zh=["","X","Y","Z"];let Qh=0;function ed(e,t,s,r){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function td(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=bu(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",On,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&td(r)}function sd({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},s=t?.()){this.id=Qh++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nd),this.nodes.forEach(dd),this.nodes.forEach(pd),this.nodes.forEach(od)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new Eh)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new an),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const s=this.eventHandlers.get(e);s&&s.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;var s;this.isSVG=Ll(t)&&!(Ll(s=t)&&"svg"===s.tagName),this.instance=t;const{layoutId:r,layout:i,visualElement:n}=this.options;if(n&&!n.current&&n.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),e){let s,r=0;const i=()=>this.root.updateBlockedByResize=!1;On.read(()=>{r=window.innerWidth}),e(t,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,s&&s(),s=function(e,t){const s=$n.now(),r=({timestamp:i})=>{const n=i-s;n>=t&&(Nn(r),e(n-t))};return On.setup(r,!0),()=>Nn(r)}(i,250),vh.hasAnimatedSinceResize&&(vh.hasAnimatedSinceResize=!1,this.nodes.forEach(hd)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&n&&(r||i)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:s,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||n.getDefaultTransition()||wd,{onLayoutAnimationStart:o,onLayoutAnimationComplete:a}=n.getProps(),l=!this.targetLayout||!Gh(this.targetLayout,r),c=!t&&s;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const t={...il(i,"layout"),onPlay:o,onComplete:a};(n.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,c)}else t||hd(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Nn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(md),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&td(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:s}=this.options;if(void 0===t&&!s)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(ld);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(cd);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ud),this.nodes.forEach(rd),this.nodes.forEach(id)):this.nodes.forEach(cd),this.clearAllSnapshots();const e=$n.now();An.delta=Yi(0,1e3/60,e-An.timestamp),An.timestamp=e,An.isProcessing=!0,Rn.update.process(An),Rn.preRender.process(An),Rn.render.process(An),An.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Sl.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ad),this.sharedNodes.forEach(fd)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,On.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){On.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||zu(this.snapshot.measuredBox.x)||zu(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++){this.path[s].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Hh(this.projectionDelta),s=this.getTransformTemplate(),r=s?s(this.latestValues,""):void 0,n=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||qc(this.latestValues)||n)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let s=this.removeElementScroll(t);var r;return e&&(s=this.removeTransform(s)),jd((r=s).x),jd(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Sd))){const{scroll:e}=this.root;e&&(Qc(t.x,e.offset.x),Qc(t.y,e.offset.y))}return t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};if(Lh(t,e),this.scroll?.wasRoot)return t;for(let s=0;s<this.path.length;s++){const r=this.path[s],{scroll:i,options:n}=r;r!==this.root&&i&&n.layoutScroll&&(i.wasRoot&&Lh(t,e),Qc(t.x,i.offset.x),Qc(t.y,i.offset.y))}return t}applyTransform(e,t=!1){const s={x:{min:0,max:0},y:{min:0,max:0}};Lh(s,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&tu(s,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),qc(e.latestValues)&&tu(s,e.latestValues)}return qc(this.latestValues)&&tu(s,this.latestValues),s}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Lh(t,e);for(let s=0;s<this.path.length;s++){const e=this.path[s];if(!e.instance)continue;if(!qc(e.latestValues))continue;Wc(e.latestValues)&&e.updateSnapshot();const r=ru();Lh(r,e.measurePageBox()),Wh(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return qc(this.latestValues)&&Wh(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==An.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const s=Boolean(this.resumingFrom)||this!==t;if(!(e||s&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:i}=this.options;if(this.layout&&(r||i)){if(this.resolvedRelativeTargetAt=An.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Zu(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Lh(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var n,o,a;if(this.relativeTarget||this.targetDelta)if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),n=this.target,o=this.relativeTarget,a=this.relativeParent.target,Yu(n.x,o.x,a.x),Yu(n.y,o.y,a.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Lh(this.target,this.layout.layoutBox),Yc(this.target,this.targetDelta)):Lh(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Zu(this.relativeTargetOrigin,this.target,e.target),Lh(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!Wc(this.parent.latestValues)&&!Hc(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const e=this.getLead(),t=Boolean(this.resumingFrom)||this!==e;let s=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(s=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(s=!1),this.resolvedRelativeTargetAt===An.timestamp&&(s=!1),s)return;const{layout:r,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!i)return;Lh(this.layoutCorrected,this.layout.layoutBox);const n=this.treeScale.x,o=this.treeScale.y;!function(e,t,s,r=!1){const i=s.length;if(!i)return;let n,o;t.x=t.y=1;for(let a=0;a<i;a++){n=s[a],o=n.projectionDelta;const{visualElement:i}=n.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&n.options.layoutScroll&&n.scroll&&n!==n.root&&tu(e,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Yc(e,o)),r&&qc(n.latestValues)&&tu(e,n.latestValues))}t.x<Zc&&t.x>Xc&&(t.x=1),t.y<Zc&&t.y>Xc&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,t),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:a}=e;a?(this.projectionDelta&&this.prevProjectionDelta?(Mh(this.prevProjectionDelta.x,this.projectionDelta.x),Mh(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Ju(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.treeScale.x===n&&this.treeScale.y===o&&Yh(this.projectionDelta.x,this.prevProjectionDelta.x)&&Yh(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const s=this.snapshot,r=s?s.latestValues:{},i={...this.latestValues},n={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(s?s.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(vd));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const s=t/1e3;var l,d,p,m,f,g;gd(n.x,e.x,s),gd(n.y,e.y,s),this.setTargetDelta(n),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zu(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,m=this.relativeTargetOrigin,f=o,g=s,yd(p.x,m.x,f.x,g),yd(p.y,m.y,f.y,g),h&&(l=this.relativeTarget,d=h,Kh(l.x,d.x)&&Kh(l.y,d.y))&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),Lh(h,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,s,r,i,n){i?(e.opacity=bo(0,s.opacity??1,Rh(r)),e.opacityExit=bo(t.opacity??1,0,Ih(r))):n&&(e.opacity=bo(t.opacity??1,s.opacity??1,r));for(let o=0;o<Ch;o++){const i=`border${Ph[o]}Radius`;let n=Ah(t,i),a=Ah(s,i);void 0===n&&void 0===a||(n||(n=0),a||(a=0),0===n||0===a||Nh(n)===Nh(a)?(e[i]=Math.max(bo(Oh(n),Oh(a),r),0),(to.test(a)||to.test(n))&&(e[i]+="%")):e[i]=a)}(t.rotate||s.rotate)&&(e.rotate=bo(t.rotate||0,s.rotate||0,r))}(i,r,this.latestValues,s,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=s},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Nn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=On.update(()=>{vh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_l(0)),this.currentAnimation=function(e,t,s){const r=Ml(e)?e:_l(e);return r.start(Tu("",r,t,s)),r.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:s,layout:r,latestValues:i}=e;if(t&&s&&r){if(this!==e&&this.layout&&r&&_d(this.options.animationType,this.layout.layoutBox,r.layoutBox)){s=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=zu(this.layout.layoutBox.x);s.x.min=e.target.x.min,s.x.max=s.x.min+t;const r=zu(this.layout.layoutBox.y);s.y.min=e.target.y.min,s.y.max=s.y.min+r}Lh(t,s),tu(t,i),Ju(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Xh);this.sharedNodes.get(e).add(t);const s=t.options.initialPromotionConfig;t.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:s}={}){const r=this.getStack();r&&r.promote(this,s),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:s}=e;if((s.z||s.rotate||s.rotateX||s.rotateY||s.rotateZ||s.skewX||s.skewY)&&(t=!0),!t)return;const r={};s.z&&ed("z",e,r,this.animationValues);for(let i=0;i<Zh.length;i++)ed(`rotate${Zh[i]}`,e,r,this.animationValues),ed(`skew${Zh[i]}`,e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const s=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=_c(t?.pointerEvents)||"",void(e.transform=s?s(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=_c(t?.pointerEvents)||""),void(this.hasProjected&&!qc(this.latestValues)&&(e.transform=s?s({},""):"none",this.hasProjected=!1));e.visibility="";const i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let n=function(e,t,s){let r="";const i=e.x.translate/t.x,n=e.y.translate/t.y,o=s?.z||0;if((i||n||o)&&(r=`translate3d(${i}px, ${n}px, ${o}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:n,skewX:o,skewY:a}=s;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),n&&(r+=`rotateY(${n}deg) `),o&&(r+=`skewX(${o}deg) `),a&&(r+=`skewY(${a}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+=`scale(${a}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);s&&(n=s(i,n)),e.transform=n;const{x:o,y:a}=this.projectionDelta;e.transformOrigin=`${100*o.origin}% ${100*a.origin}% 0`,r.animationValues?e.opacity=r===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const l in rc){if(void 0===i[l])continue;const{correct:t,applyTo:s,isCSSVariable:o}=rc[l],a="none"===n?i[l]:t(i[l],r);if(s){const t=s.length;for(let r=0;r<t;r++)e[s[r]]=a}else o?this.options.visualElement.renderState.vars[l]=a:e[l]=a}this.options.layoutId&&(e.pointerEvents=r===this?_c(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(ld),this.root.sharedNodes.clear()}}}function rd(e){e.updateLayout()}function id(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:i}=e.options,n=t.source!==e.layout.source;"size"===i?Qu(e=>{const r=n?t.measuredBox[e]:t.layoutBox[e],i=zu(r);r.min=s[e].min,r.max=r.min+i}):_d(i,t.layoutBox,s)&&Qu(r=>{const i=n?t.measuredBox[r]:t.layoutBox[r],o=zu(s[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Ju(o,s,t.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};n?Ju(a,e.applyTransform(r,!0),t.measuredBox):Ju(a,s,t.layoutBox);const l=!Hh(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:n}=r;if(i&&n){const o={x:{min:0,max:0},y:{min:0,max:0}};Zu(o,t.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};Zu(a,s,n.layoutBox),Gh(o,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function nd(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function od(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ad(e){e.clearSnapshot()}function ld(e){e.clearMeasurements()}function cd(e){e.isLayoutDirty=!1}function ud(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hd(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function dd(e){e.resolveTargetDelta()}function pd(e){e.calcProjection()}function md(e){e.resetSkewAndRotation()}function fd(e){e.removeLeadSnapshot()}function gd(e,t,s){e.translate=bo(t.translate,0,s),e.scale=bo(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function yd(e,t,s,r){e.min=bo(t.min,s.min,r),e.max=bo(t.max,s.max,r)}function vd(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const wd={duration:.45,ease:[.4,0,.1,1]},bd=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),xd=bd("applewebkit/")&&!bd("chrome/")?Math.round:sn;function jd(e){e.min=xd(e.min),e.max=xd(e.max)}function _d(e,t,s){return"position"===e||"preserve-aspect"===e&&(r=Jh(t),i=Jh(s),n=.2,!(Math.abs(r-i)<=n));var r,i,n}function Sd(e){return e!==e.root&&e.scroll?.wasRoot}const kd=sd({attachResizeListener:(e,t)=>qu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Td={current:void 0},Ed=sd({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Td.current){const e=new kd({});e.mount(window),e.setOptions({layoutScroll:!0}),Td.current=e}return Td.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Pd={pan:{Feature:class extends Uu{constructor(){super(...arguments),this.removePointerDownListener=sn}onPointerDown(e){this.session=new sh(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eh(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:yh(e),onStart:yh(t),onMove:s,onEnd:(e,t)=>{delete this.session,r&&On.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=Ku(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Uu{constructor(e){super(e),this.removeGroupControls=sn,this.removeListeners=sn,this.controls=new fh(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sn}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Ed,MeasureLayout:Sh}};function Cd(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===s);const i=r["onHover"+s];i&&On.postRender(()=>i(t,Hu(t)))}function Od(e,t,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===s);const i=r["onTap"+("End"===s?"":s)];i&&On.postRender(()=>i(t,Hu(t)))}const Nd=new WeakMap,Ad=new WeakMap,Rd=e=>{const t=Nd.get(e.target);t&&t(e)},Id=e=>{e.forEach(Rd)};function Dd(e,t,s){const r=function({root:e,...t}){const s=e||document;Ad.has(s)||Ad.set(s,{});const r=Ad.get(s),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Id,{root:e,...t})),r[i]}(t);return Nd.set(e,s),r.observe(e),()=>{Nd.delete(e),r.unobserve(e)}}const $d={some:0,all:1};const Ld={inView:{Feature:class extends Uu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:r="some",once:i}=e,n={root:t?t.current:void 0,rootMargin:s,threshold:"number"==typeof r?r:$d[r]};return Dd(this.node.current,n,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:s,onViewportLeave:r}=this.node.getProps(),n=t?s:r;n&&n(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Uu{mount(){const{current:e}=this.node;e&&(this.unmount=$l(e,(e,t)=>(Od(this.node,t,"Start"),(e,{success:t})=>Od(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Uu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nn(qu(this.node.current,"focus",()=>this.onFocus()),qu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Uu{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,s={}){const[r,i,n]=El(e,s),o=e=>{if(!Pl(e))return;const{target:s}=e,r=t(s,e);if("function"!=typeof r||!s)return;const n=e=>{Pl(e)&&(r(e),s.removeEventListener("pointerleave",n))};s.addEventListener("pointerleave",n,i)};return r.forEach(e=>{e.addEventListener("pointerenter",o,i)}),n}(e,(e,t)=>(Cd(this.node,t,"Start"),e=>Cd(this.node,e,"End"))))}unmount(){}}}},Md=Bc({...Wu,...Ld,...Pd,...{layout:{ProjectionNode:Ed,MeasureLayout:Sh}}},mu),Vd=[{icon:c,title:"Free Consultation + Free Health Scanning",description:"Get expert medical consultation and comprehensive health screening at no cost.",color:"blue"},{icon:N,title:"Free Cab Pickup & Drop",description:"Complimentary transportation service for your convenience and comfort.",color:"green"},{icon:A,title:"Zero-Cost EMI Options",description:"Flexible payment plans with zero-cost EMI to make healthcare affordable.",color:"purple"},{icon:R,title:"Insurance Claim Assistance",description:"Complete support with insurance paperwork and claim processing.",color:"orange"},{icon:v,title:"24/7 Personal Care Coordinator",description:"Dedicated care coordinator available round-the-clock for your needs.",color:"teal"},{icon:m,title:"Postoperative Follow-Up Care",description:"Comprehensive post-surgery care and regular follow-up consultations.",color:"pink"}],Bd={blue:"bg-blue-100 text-blue-600 group-hover:bg-blue-600 group-hover:text-white",green:"bg-green-100 text-green-600 group-hover:bg-green-600 group-hover:text-white",purple:"bg-purple-100 text-purple-600 group-hover:bg-purple-600 group-hover:text-white",orange:"bg-orange-100 text-orange-600 group-hover:bg-orange-600 group-hover:text-white",teal:"bg-teal-100 text-teal-600 group-hover:bg-teal-600 group-hover:text-white",red:"bg-red-100 text-red-600 group-hover:bg-red-600 group-hover:text-white",pink:"bg-pink-100 text-pink-600 group-hover:bg-pink-600 group-hover:text-white"},Ud={hidden:{opacity:0,y:40},visible:e=>({opacity:1,y:0,transition:{delay:.15*e,duration:.7,ease:[.17,.67,.83,.67]}})},Fd={initial:{scale:1},hover:{scale:1.15,rotate:[0,8,-8,0],transition:{duration:.35,type:"spring"}}},Wd=()=>e.jsx("section",{className:"py-16 bg-gradient-to-br from-teal-50 via-white to-purple-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold text-teal-700 mb-6",children:["Why Choose ",e.jsx("span",{className:"text-purple-700",children:"SurgiHeal"}),"?"]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Experience comprehensive healthcare with unmatched benefits and personalized care."})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:Vd.map((t,s)=>{const r=t.icon;return e.jsxs(Md.div,{className:"group border border-gray-200 rounded-2xl p-6 bg-white hover:shadow-2xl transition-all duration-500",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Ud,custom:s,whileHover:{scale:1.05},children:[e.jsx(Md.div,{className:`w-16 h-16 rounded-full mb-4 flex items-center justify-center transition-all duration-300 ${Bd[t.color]}`,variants:Fd,initial:"initial",whileHover:"hover",children:e.jsx(r,{strokeWidth:1.5,className:"w-8 h-8"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3 group-hover:text-teal-600 transition-colors",children:t.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]},t.title)})})]})}),qd=()=>{const[s,r]=t.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("section",{id:"video",className:"relative  bg-gray-900 overflow-hidden bg-cover bg-center",style:{backgroundImage:"url(/Surgiheal/assets/watch-story-BMmzGHQ4.jpg)"},children:[e.jsx("div",{className:"absolute inset-0 bg-black/60"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex flex-col items-start justify-center min-h-[400px] sm:min-h-[500px] md:min-h-[600px] lg:min-h-[700px]",children:e.jsxs("div",{className:"max-w-2xl lg:max-w-3xl text-left",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl uppercase font-medium text-white mb-4",children:"See Our Healthcare Excellence in Action"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-gray-300 mb-8 sm:mb-10 lg:mb-12",children:"Watch how we deliver world-class medical care with compassion and expertise"}),e.jsxs("div",{className:"inline-block justify-center items-center bg-[purple] rounded-2xl p-6 sm:p-8 cursor-pointer group",onClick:()=>r(!0),children:[e.jsx("div",{className:"flex items-center justify-center ml-4 w-16 h-16 sm:w-20 sm:h-20 bg-white rounded-full group-hover:scale-110 transition-transform duration-300",children:e.jsx(I,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600 ",fill:"currentColor"})}),e.jsx("p",{className:"text-white mt-3 sm:mt-4 font-semibold text-sm sm:text-base",children:"Watch Our Story"})]})]})})})]}),s&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center p-2 sm:p-4",children:e.jsxs("div",{className:"relative w-full h-full max-w-none",children:[e.jsx("button",{onClick:()=>r(!1),className:"absolute top-3 right-3 sm:top-4 sm:right-4 z-10 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all",children:e.jsx(l,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),e.jsx("iframe",{className:"w-full h-full",src:"https://www.youtube.com/embed/nstyX0Fo2yc",title:"Healthcare Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})]})})]})},Hd=[{name:"Sandeep Goud",role:"Heart Surgery Patient",location:"Uppal, Hyderabad",content:"I had a minor surgery done through surgiheal's panel of doctor. From booking the consultation to post-surgery care, everything was smooth.The staff followed up regulary, which gave me a lot of confidence",rating:5,image:"https://media.istockphoto.com/id/924009114/photo/portrait-of-indian-man.jpg?s=170667a&w=0&k=20&c=clWpeUuuJuv2okI9Y2ioD7ZMmjfS1IS8qG6EzenOzG8=",specialty:"Cardiology"},{name:"Rajesh Reedy",role:"Orthopedic Patient",location:"Banjara Hills, Hyderabad",content:" My mother needed specialized treament, and we found the right doctor through surgihea.The way they guided us and answered our doubts patiently was impressive.Truly professional service.",rating:5,image:"https://as2.ftcdn.net/v2/jpg/02/67/50/37/1000_F_267503734_ut3fydCBeEWViWORWsJoGNhj5vewWFIG.jpg",specialty:"Orthopedics"},{name:"Anitha Kumari",role:"Pediatric Parent",location:"Kukatpally, Hyderabad",content:"I was nervous about my procedure,but the surgeon recommended by surgiheal exolained everything clearly.The whole process was transparent and stress-free.",rating:5,image:"https://as1.ftcdn.net/v2/jpg/02/96/07/04/1000_F_296070450_Jd5JTMFIiIOycPxiXFy70sBx5enf2wuB.jpg",specialty:"Pediatrics"},{name:"Mohammed Imran",role:"Emergency Patient",location:"Charminar, Hyderabad",content:"Surgiheal helped me connect with the right specialist without any hassle. The support team was available even at late hours when I had questions. Very thankful for their dedication.",rating:5,image:"https://media.istockphoto.com/id/1398271235/photo/portrait-of-a-young-man-out-for-a-walk-in-a-park-in-the-summer.jpg?s=612x612&w=0&k=20&c=xR9NW7W7I-VPYRumpg-ofphDdt7LM-sZwwUK5NFoW3w=",specialty:"Emergency Care"},{name:"Sneha Patil",role:"Cancer Survivor",location:"Madhapur, Hyderabad",content:"What I liked most about Surgiheal was the clear pricing and the way they handled all the hospital formalities. It saved us a lot of time and tension.",rating:5,image:"https://images.rawpixel.com/image_800/czNmcy1wcml2YXRlL3Jhd3BpeGVsX2ltYWdlcy93ZWJzaXRlX2NvbnRlbnQvbHIvay1zNTItZHNjMjU1MzU2OC1jaGltLTFzcS5qcGc.jpg",specialty:"Oncology"},{name:"James Thompson",role:"Neurology Patient",location:"LB Nagar, Hyderabad",content:"I had been postponing my treatment out of fear. Surgiheal not only arranged the best doctor but also gave me confidence with their continuous support. I recovered much faster than I expected.",rating:5,image:"https://i1.rgstatic.net/ii/profile.image/1007879075139589-1617308505826_Q512/Shrikant-Kumar-3.jpg",specialty:"Neurology"},{name:"Divya Rani",role:"Maternity Patient",location:"Jubilee Hills, Hyderabad",content:"I had been postponing my treatment out of fear. Surgiheal not only arranged the best doctor but also gave me confidence with their continuous support. I recovered much faster than I expected.",rating:5,image:"https://www.wordofmouthdentalcare.co.uk/retina-images/hot-button-4.webp",specialty:"Maternity"},{name:"Arun Varma",role:"Diabetes Patient",location:" Ameerpet,Hyderabad",content:"Excellent service! The team arranged my consultation within a day and guided me throughout. The doctors associated with them are very experienced.",rating:5,image:"https://as2.ftcdn.net/v2/jpg/08/58/63/05/1000_F_858630520_QUmsNp4Lm5MLBGf9jMW3M06gVb3tKLu3.jpg",specialty:"Endocrinology"}],Kd=()=>{const[s,r]=t.useState(0),i=Hd.slice(s,s+3);return e.jsx("section",{className:"py-10 bg-gradient-to-br from-gray-50 to-blue-50 relative overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("h2",{className:"text-4xl lg:text-5xl font-medium uppercase text-gray-900 mb-6",children:["Patient ",e.jsx("span",{className:"text-[purple]",children:"Success Stories"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Real experiences from patients who received exceptional care at SurgiHeal Healthcare."})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:i.map((t,r)=>e.jsxs("div",{className:"group bg-white rounded-sm p-6 relative transform hover:-translate-y-4 transition-all duration-500 shadow-lg hover:shadow-2xl border border-gray-100 hover:border-blue-200 cursor-pointer",style:{animationDelay:150*r+"ms",animation:"fadeInUp 0.8s ease-out forwards"},children:[e.jsx("div",{className:"absolute -top-4 -right-4 w-8 h-8 bg-[teal] rounded-full flex items-center justify-center",children:e.jsx(o,{className:"w-5 h-5 text-white"})}),e.jsx(D,{strokeWidth:1,className:"w-7 h-7 text-[purple] mb-3 opacity-70 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:"inline-block bg-blue-100 text-blue-600 text-xs font-semibold px-3 py-1 rounded-full mb-4",children:t.specialty}),e.jsxs("p",{className:"text-gray-600 leading-relaxed text-md group-hover:text-gray-900 transition-colors duration-300",children:['"',t.content,'"']})]}),e.jsxs("div",{className:"flex items-center mb-6",children:[[...Array(t.rating)].map((t,s)=>e.jsx(C,{strokeWidth:1,className:"w-4 h-4 text-[teal] fill-current mr-1 transform group-hover:scale-110 transition-transform duration-300",style:{animationDelay:100*s+"ms"}},s)),e.jsx("span",{className:"ml-2 text-sm text-gray-500 font-medium",children:"5.0"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-14 h-14 rounded-full object-cover mr-4  ring-blue-100 group-hover:ring-blue-200 transition-all duration-300"}),e.jsx("div",{className:"absolute -bottom-1 left-0 w-4 h-4 bg-green-500 rounded-full border-2 border-white"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium test-md text-gray-900 group-hover:text-blue-600 transition-colors duration-300",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:t.role}),e.jsx("p",{className:"text-xs text-gray-500",children:t.location})]})]})]},`${t.name}-${s}`))}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-12",children:[e.jsx("button",{onClick:()=>{r(e=>0===e?Math.max(0,Hd.length-3):Math.max(0,e-3))},className:"flex items-center justify-center w-12 h-12 bg-white rounded-full  transition-all duration-300 hover:bg-blue-50 group",children:e.jsx($,{className:"w-6 h-6 text-gray-600 group-hover:text-blue-600"})}),e.jsx("div",{className:"flex space-x-2",children:Array.from({length:Math.ceil(Hd.length/3)}).map((t,i)=>e.jsx("button",{onClick:()=>r(3*i),className:"w-3 h-3 rounded-full transition-all duration-300 "+(Math.floor(s/3)===i?"bg-blue-600 w-8":"bg-gray-300 hover:bg-gray-400")},i))}),e.jsx("button",{onClick:()=>{r(e=>e+3>=Hd.length?0:e+3)},className:"flex items-center justify-center w-12 h-12 bg-white rounded-full  transition-all duration-300 hover:bg-blue-50 group",children:e.jsx(L,{className:"w-6 h-6 text-gray-600 group-hover:text-blue-600"})})]})]})})},zd=()=>{const[s,r]=t.useState(null);return e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-medium text-gray-800 mb-4",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Find answers to common questions about SurgiHeal's services, procedures, and patient care."})]}),e.jsx("div",{className:"space-y-4",children:[{question:"What is SurgiHeal?",answer:" Surgi Heal is a comprehensive surgical care platform that provides end-to-end support for patients undergoing secondary care surgeries. From consultations and preoperative planning to hospitalization, postoperative care, and insurance assistance, we ensure a stress-free, seamless experience for patients and their families."},{question:"How does the free consultation works?",answer:"At Surgi Heal, patients can schedule a free consultation with our expert surgeons. During this consultation, your medical history is reviewed, the required investigations are suggested, and the best surgical options are explained. Our Care Coordinator ensures all appointments are scheduled conveniently "},{question:"What insurance and payment options does Surgi Heal provide?",answer:"Surgi Heal offers full insurance claim support, including documentation and pre-authorization assistance. For patients without insurance or for additional costs, we provide zero-cost EMI options, allowing you to pay for your treatment in convenient monthly installments, making surgery more affordable and stress-free. "},{question:"Do you provide transport services for patients?",answer:"Yes! Surgi Heal arranges complimentary cab pickup and drop for patients, ensuring safe and hassle-free transportation to and from the hospital. This service is part of our commitment to provide a smooth, stress-free surgical experience. "},{question:"How long will I stay in the hospital?",answer:"Most procedures at Surgi Heal are designed for 1-day hospital stays, especially for minimally invasive surgeries. Complex surgeries may require longer admission, but our Care Coordinator will provide clear guidance on hospital stay duration and recovery plans."},{question:"What is the role of a 24/7 Care Coordinator?",answer:"Each patient is assigned a dedicated Care Coordinator who is available 24/7. They manage all aspects of the surgical journey, including scheduling appointments, assisting with insurance, coordinating tests, answering questions, and providing continuous emotional and logistical support to patients and families. "},{question:"Do you provide post-operative care at home?",answer:"Absolutely. Surgi Heal ensures structured post-operative follow-ups, including wound care, recovery monitoring, physiotherapy, and guidance for any complications. Our Care Coordinators schedule visits or virtual consultations so patients can heal safely and comfortably at home. "},{question:"Can attendants/family members be supported during my hospital stay?",answer:"Yes. Surgi Heal provides attendant support, including complimentary meals, comfort arrangements, and guidance throughout the hospitalization. We ensure that your family is taken care of while you focus on recovery. "},{question:"What types of surgeries does Surgi Heal handle?",answer:" Surgi Heal supports a wide range of secondary care surgeries, including general surgery, laparoscopic procedures, orthopedic surgery, gynecological surgery, ophthalmology (LASIK), ENT, and more. Our network of experienced surgeons and modern facilities ensures safety and excellence in every procedure."},{question:"How do I get started with Surgi Heal?",answer:"Getting started is simple! You can book a free consultation through our website or call our Care Coordinator. Once your initial consultation is scheduled, our team guides you through diagnostics, insurance, hospital admission, surgery, and recovery — making your surgical journey completely stress-free."},{question:"What technology and equipment does SurgiHeal use?",answer:"We use state-of-the-art medical technology including advanced laparoscopic equipment, laser surgery systems, modern imaging technology, and fully equipped operating rooms. This ensures precise, safe, and effective treatments with the latest medical innovations."}].map((t,i)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("button",{onClick:()=>(e=>{r(s===e?null:e)})(i),className:"w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 focus:outline-none focus:bg-gray-50",children:[e.jsx("span",{className:"font-medium text-gray-800 pr-4",children:t.question}),s===i?e.jsx(b,{className:"w-5 h-5 text-purple-600 flex-shrink-0"}):e.jsx(x,{className:"w-5 h-5 text-purple-600 flex-shrink-0"})]}),s===i&&e.jsx("div",{className:"px-6 pb-4",children:e.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.answer})})]},i))}),e.jsxs("div",{className:"mt-12 text-center",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-4",children:"Still have questions?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Our patient care coordinators are available 24/7 to help you with any questions or concerns."}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e.jsxs("a",{href:"tel:+919381087752",className:"bg-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center justify-center",children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"Call: +91 9381087752"]})})]})]})})},Gd=()=>e.jsxs("section",{className:"py-20 bg-[purple] relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-medium uppercase text-white mb-4",children:"Ready to Take Care of Your Health?"}),e.jsx("p",{className:"text-lg text-blue-200 max-w-3xl mx-auto",children:"Book your appointment today and experience world-class healthcare with our expert medical team."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-sm p-6 text-center hover:bg-white/20 transition-all duration-300",children:[e.jsx(d,{strokeWidth:1,className:"w-8 h-8 text-white mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Easy Booking"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Schedule appointments online or by phone"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-sm p-6 text-center hover:bg-white/20 transition-all duration-300",children:[e.jsx(v,{strokeWidth:1,className:"w-8 h-8 text-white mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Quick Service"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Minimal waiting times with efficient care"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-sm p-6 text-center hover:bg-white/20 transition-all duration-300",children:[e.jsx(h,{strokeWidth:1,className:"w-8 h-8 text-white mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"24/7 Support"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Round-the-clock medical assistance"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-sm p-6 text-center hover:bg-white/20 transition-all duration-300",children:[e.jsx(p,{strokeWidth:1,className:"w-8 h-8 text-white mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Convenient Location"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Easily accessible with ample parking"})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[e.jsxs("button",{className:"bg-white text-blue-600 px-4  py-3 text-sm rounded-full font-semibold hover:bg-blue-50 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center",children:[e.jsx(d,{strokeWidth:1,className:"mr-2 w-5 h-5"}),"Book Appointment Now"]}),e.jsxs("button",{className:"border-[1px] border-white text-white px-4 py-3 text-sm rounded-full font-semibold hover:bg-white hover:text-blue-600 transition-all duration-300 flex items-center",children:[e.jsx(h,{strokeWidth:1,className:"mr-2 w-5 h-5"}),"Call: +91 9381087752"]})]}),e.jsxs("p",{className:"text-blue-100 mt-6 text-sm",children:["Emergency? Call our 24/7 hotline: ",e.jsx("span",{className:"font-semibold text-white",children:"+91  9381087752 "})]})]})]})]}),Jd=()=>e.jsx("section",{className:"py-16 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsxs("h2",{className:"text-4xl md:text-5xl uppercase font-medium text-gray-800 mb-4",children:["About ",e.jsx("span",{className:"bg-teal-400 p-3",children:"Us"})]}),e.jsx("p",{className:"text-xl text-gray-600 font-medium",children:"Your Trusted Partner in Healthcare Excellence"})]}),e.jsxs("div",{className:"max-w-6xl mx-auto mb-10",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"prose prose-lg text-gray-500 leading-relaxed",children:[e.jsxs("p",{children:["At ",e.jsx("span",{className:"font-bold text-[purple]",children:"Surgiheal"}),", we believe that ",e.jsx("span",{className:"font-semibold text-teal-600",children:"healing is an art guided by science and compassion"}),". We are a ",e.jsx("span",{className:"font-semibold",children:"multidisciplinary surgical care team"})," dedicated to providing ",e.jsx("span",{className:"font-bold text-green-600",children:"safe, ethical, and advanced treatments"})," across a wide range of specialties."]}),e.jsx("br",{}),e.jsxs("p",{children:["Founded with the vision of making ",e.jsx("span",{className:"font-semibold text-[purple]",children:"quality surgical care accessible and affordable"}),", Surgiheal integrates ",e.jsx("span",{className:"font-semibold",children:"modern surgical techniques, experienced specialists, and personalized post-operative care"})," under one roof."]}),e.jsx("br",{}),e.jsxs("p",{children:["Our focus is not only on ",e.jsx("span",{className:"font-semibold text-teal-600",children:"performing successful procedures"})," but also on ensuring ",e.jsx("span",{className:"font-bold text-green-600",children:"complete recovery and patient comfort"}),"—from the first consultation to post-surgery follow-up at home if needed."]}),e.jsx("br",{}),e.jsxs("p",{children:["With a growing network of clinics and partner hospitals, our mission is to ",e.jsx("span",{className:"font-bold text-[purple]",children:"reshape the surgical care experience through technology, transparency, and trust"}),"."]})]})}),e.jsxs("div",{className:"mt-12 bg-gradient-to-r from-purple-50 to-teal-50 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Our Core Values"}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-white p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center shadow-md",children:e.jsx(m,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h4",{className:"font-bold text-lg text-purple-800 mb-2",children:"Compassion"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Treating every patient like family."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-white p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center shadow-md",children:e.jsx(M,{className:"w-8 h-8 text-teal-600"})}),e.jsx("h4",{className:"font-bold text-lg text-teal-800 mb-2",children:"Precision"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Every procedure, every time, handled with utmost accuracy."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-white p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center shadow-md",children:e.jsx(y,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h4",{className:"font-bold text-lg text-purple-800 mb-2",children:"Integrity"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Honest opinions and transparent communication."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-white p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center shadow-md",children:e.jsx(y,{className:"w-8 h-8 text-teal-600"})}),e.jsx("h4",{className:"font-bold text-lg text-teal-800 mb-2",children:"Safety"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Strict adherence to sterilization, hygiene, and global surgical protocols."})]})]})]})]}),e.jsx("div",{className:" bg-sky-100 border-gray-300 max-w-6xl mx-auto rounded-2xl p-8 ",children:e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"border-[1px] border-gray-400 p-3 rounded-full w-12 h-12 mx-auto mb-4 flex items-center justify-center  transition-colors",children:e.jsx(E,{strokeWidth:1,className:"w-6 h-6 text-[purple]"})}),e.jsx("h4",{className:"font-medium text-xl text-gray-800 mb-2",children:"50+"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Specialist Doctors"}),e.jsx("p",{className:"text-sm text-gray-500",children:"across multiple disciplines"})]}),e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"border-[1px] border-gray-400  p-3 rounded-full  w-12 h-12 mx-auto mb-4 flex items-center justify-center transition-colors",children:e.jsx(m,{strokeWidth:1,className:"w-6 h-6 text-[purple]]"})}),e.jsx("h4",{className:"font-medium text-xl text-gray-800 mb-2",children:"50,000+"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Patients Treated"}),e.jsx("p",{className:"text-sm text-gray-500",children:"with trust and care"})]}),e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"border-[1px] border-gray-400  p-3 rounded-full  w-12 h-12 mx-auto mb-4 flex items-center justify-center  transition-colors",children:e.jsx(v,{strokeWidth:1,className:"w-6 h-6 text-[purple]"})}),e.jsx("h4",{className:"font-medium text-xl text-gray-800 mb-2",children:"24/7"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Emergency Care"}),e.jsx("p",{className:"text-sm text-gray-500",children:"& Critical Care facilities"})]}),e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"border-[1px] border-gray-400  p-3 rounded-full  w-12 h-12 mx-auto mb-4 flex items-center justify-center transition-colors",children:e.jsx(p,{strokeWidth:1,className:"w-6 h-6 text-[purple]"})}),e.jsx("h4",{className:"font-medium text-xl text-gray-800 mb-2",children:"Network"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Clinics & Labs"}),e.jsx("p",{className:"text-sm text-gray-500",children:"for easy accessibility"})]})]})})]})}),Yd=({onBookAppointment:s})=>{const[r,i]=t.useState(!1);return t.useEffect(()=>{const e=setTimeout(()=>{i(!0)},3e3);return()=>clearTimeout(e)},[]),e.jsxs(e.Fragment,{children:[e.jsx(Mi,{onBookAppointment:s}),e.jsx(Wi,{}),e.jsx(Jd,{}),e.jsx(Wd,{}),e.jsx("section",{id:"video",children:e.jsx(qd,{})}),e.jsx(Kd,{}),e.jsx("div",{className:"bg-teal-500",children:e.jsx(zd,{})}),e.jsx(Gd,{onBookAppointment:s}),e.jsx(Vi,{isOpen:r,onClose:()=>i(!1)})]})};export{Yd as default};
