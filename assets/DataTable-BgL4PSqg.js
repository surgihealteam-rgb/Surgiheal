import{j as e}from"./services-CfkDZ_GK.js";import{r}from"./vendor-C-Dt1pBA.js";import{u as T,G as M,J as A}from"./ui-CckxT14R.js";const $=({title:f,columns:d,fetchData:N,searchData:v,pageSize:n=10})=>{const[m,w]=r.useState([]),[S,b]=r.useState(!1),[a,k]=r.useState(0),[c,C]=r.useState(0),[p,E]=r.useState(0),[o,y]=r.useState(""),[i,P]=r.useState("createdAt"),[x,u]=r.useState("desc"),h=async(t=0,l="")=>{b(!0);try{const s=l?await v(l,t,n):await N(t,n,i,x);w(s.content||[]),C(s.totalPages||0),E(s.totalElements||0),k(t)}catch(s){console.error("Error loading data:",s)}finally{b(!1)}};r.useEffect(()=>{h(0,o)},[i,x]);const g=t=>{h(t,o)},D=t=>{i===t?u(x==="asc"?"desc":"asc"):(P(t),u("asc"))},j=r.useMemo(()=>{const t=a*n+1,l=Math.min((a+1)*n,p);return{start:t,end:l}},[a,n,p]);return e.jsxs("div",{className:"bg-white rounded-sm shadow",children:[e.jsx("div",{className:"p-3 border-b",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsx("h2",{className:"text-md font-semibold text-gray-900",children:f}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search...",value:o,onChange:t=>y(t.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-500"})]}),e.jsx("button",{onClick:()=>h(0,o),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Search"}),o&&e.jsx("button",{onClick:()=>{y(""),h(0,"")},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Clear"})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:d.map(t=>e.jsx("th",{onClick:()=>t.sortable&&D(t.key),className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${t.sortable?"cursor-pointer hover:bg-gray-100":""}`,children:e.jsxs("div",{className:"flex items-center gap-1",children:[t.label,t.sortable&&i===t.key&&e.jsx("span",{className:"text-purple-600",children:x==="asc"?"↑":"↓"})]})},t.key))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S?e.jsx("tr",{children:e.jsx("td",{colSpan:d.length,className:"px-6 py-12 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-6 h-6 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"})})})}):m.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:d.length,className:"px-6 py-12 text-center text-gray-500",children:"No data found"})}):m.map((t,l)=>e.jsx("tr",{className:"hover:bg-gray-50",children:d.map(s=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.render?s.render(t[s.key],t):t[s.key]},s.key))},t.id||l))})]})}),c>1&&e.jsxs("div",{className:"px-6 py-4 border-t flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",j.start," to ",j.end," of ",p," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>g(a-1),disabled:a===0,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(M,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,c)},(t,l)=>{const s=a<3?l:a-2+l;return s>=c?null:e.jsx("button",{onClick:()=>g(s),className:`px-3 py-1 rounded-lg ${s===a?"bg-purple-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:s+1},s)})}),e.jsx("button",{onClick:()=>g(a+1),disabled:a>=c-1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(A,{className:"w-4 h-4"})})]})]})]})};export{$ as default};
